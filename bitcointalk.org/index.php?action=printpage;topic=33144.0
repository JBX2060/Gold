<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
		<link rel="canonical" href="https://bitcointalk.org/index.php?topic=33144.0" />
		<title>Print Page - PoolServerJ - Tech Support</title>
		<style type="text/css">
			body
			{
				color: black;
				background-color: white;
			}
			body, td, .normaltext
			{
				font-family: Verdana, arial, helvetica, serif;
				font-size: small;
			}
			*, a:link, a:visited, a:hover, a:active
			{
				color: black !important;
			}
			table
			{
				empty-cells: show;
			}
			.code
			{
				font-size: x-small;
				font-family: monospace;
				border: 1px solid black;
				margin: 1px;
				padding: 1px;
			}
			.quote
			{
				font-size: x-small;
				border: 1px solid black;
				margin: 1px;
				padding: 1px;
			}
			.smalltext, .quoteheader, .codeheader
			{
				font-size: x-small;
			}
			.largetext
			{
				font-size: large;
			}
			hr
			{
				height: 1px;
				border: 0;
				color: black;
				background-color: black;
			}
		</style>
	</head>
	<body>
		<h1 class="largetext">Bitcoin Forum</h1>
		<h2 class="normaltext">Bitcoin => Bitcoin Technical Support => Topic started by: shads on July 31, 2011, 07:17:08 AM</h2>

		<table width="90%" cellpadding="0" cellspacing="0" border="0">
			<tr>
				<td>
					<br />
					<hr size="2" width="100%" />
					Title: <b>PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>July 31, 2011, 07:17:08 AM</b>
					<hr />
					<div style="margin: 0 5ex;">Support thread for PoolServerJ (http://poolserverj.org/). &nbsp;Ask you questions here.<br /><br />In case you&#039;re wondering what PoolServerJ (http://poolserverj.org/) is http://forum.bitcoin.org/index.php?topic=33142.0<br /><br />If you are using a bitcoind v0.3.24 or below ensure you have the 4diff patch (https://bitcointalk.org/index.php?topic=22585.msg384157#msg384157). There is a known bug that will bring poolserverj to a grinding halt if it occurs. &nbsp;It is fixed in this patch and it also contains some massive performance improvements that will benefit poolserverj. &nbsp;See this post (https://bitcointalk.org/index.php?topic=33142.msg539168#msg539168) for an explanation of how it affects poolserverj and why the fact that it doesn&#039;t slow down pushpool is not necessarily a good thing.<br /><br /><b>Support for performance issues</b><br /><br />If you&#039;re having performance issues (high CPU load, slow response to workers etc) your problem is probably fixable. &nbsp;Poolserverj has been proven to handle very high loads in production environments with minimal cpu usage. &nbsp;There are a number of things that can cause these symptoms though.<br /><br />If you want me to help you troubleshoot these sort of issues please help me out by providing the following info:<br /><br /><ul style="margin-top: 0; margin-bottom: 0;"><li>Poolserverj version</li><li>A summary of your hardware specs.</li><li>What patches are applied to your bitcoind (and if it&#039;s an alt chain daemon make sure you tell me that</li><li>How you&#039;ve got yr pool components splits among servers. &nbsp;i.e. are poolserverj, bitcoind, frontend, database on the same server? &nbsp;Multiple bitcoinds? &nbsp;On which servers. &nbsp;What type of database.</li><li>A copy of your poolserverj properties file (Please remember to remove your passwords).</li><li>A sample of your log output (error and stdout) with debug=true. &nbsp;About 10 mins worth is good but try to include a block change in that. <br />If your load is not particularly high then also set trace=true and traceTargets=all. &nbsp;Note: the only data this should contain that might be considered sensitive is worker login names and possibly ip addresses (if trace=true). &nbsp;If you&#039;re concerned about this then scrub the log file first but please use some sort of regex find/replace with a marker so I can see where these events actually happened.</li><li>The output from running the script found in this post (https://bitcointalk.org/index.php?topic=33142.msg538639#msg538639). &nbsp;This will dump two 2sec snapshots of server stats to log directory. This should be from the same time window as the log sample.</li></ul><br />If you can&#039;t find me on IRC then PM for an email address to send this to.<br /><br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>de4l</b> on <b>August 26, 2011, 08:28:33 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg482806#msg482806">Quote from: de4l on August 26, 2011, 06:43:56 PM</a></div><div class="quote">this is probably an error on my part, but I was trying to setup the mysql database and went to import the example sql file provided but am getting this error:<br /><div class="codeheader">Code:</div><div class="code">#1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#039;CREATE TABLE `poolserverj_native`.`shares` ( `id` bigint(30) NOT NULL AUTO_IN&#039; at line 10<br />CREATE TABLE&nbsp; `poolserverj_native`.`pool_worker` (<br />&nbsp;`id` INT( 255 ) NOT NULL AUTO_INCREMENT ,<br />&nbsp;`associatedUserId` INT( 255 ) NOT NULL ,<br />&nbsp;`username` VARCHAR( 50 ) DEFAULT NULL ,<br />&nbsp;`password` VARCHAR( 255 ) DEFAULT NULL ,<br />&nbsp;`allowed_hosts` TEXT,<br />PRIMARY KEY (&nbsp; `id` )<br />) ENGINE = MYISAM AUTO_INCREMENT =1 DEFAULT CHARSET = latin1 CREATE TABLE&nbsp; `poolserverj_native`.`shares` (<br />&nbsp;`id` BIGINT( 30 ) NOT NULL AUTO_INCREMENT ,</div><br /></div><br />just needed 2 semicolons, 1 after each statement</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>de4l</b> on <b>August 27, 2011, 08:32:37 AM</b>
					<hr />
					<div style="margin: 0 5ex;">I have noticed very poor performance when trying to run poolserverj with a solidcoin daemon, could I get you opinion if this is a) poor config on my part b) poolserverj does not like solidcoin c) solidcoin needs multi-threaded keepalive connections like this https://bitcointalk.org/index.php?topic=22585.0 d) other</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>August 27, 2011, 10:10:59 AM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg484090#msg484090">Quote from: de4l on August 27, 2011, 08:32:37 AM</a></div><div class="quote">I have noticed very poor performance when trying to run poolserverj with a solidcoin daemon, could I get you opinion if this is a) poor config on my part b) poolserverj does not like solidcoin c) solidcoin needs multi-threaded keepalive connections like this https://bitcointalk.org/index.php?topic=22585.0 d) other<br /></div><br />It could be several of those things...<br /><br />I haven&#039;t tried psj with solidcoin but I can&#039;t see any reason it wouldn&#039;t work ok with so I wouldn&#039;t jump straight to b).<br /><br />With regards to config yes there are some easy ways to turn psj into a pig and in fact some of the default settings in the sample config are probably not ideal as defaults.&nbsp; With the right tuning it should fly though.&nbsp; I&#039;ve written a bit of a guide to performance tuning here: http://poolserverj.org/documentation/performance-memory-tuning/<br /><br />But definately the first step is to ensure you&#039;ve got a patched bitcoind.&nbsp; I saw 10-20x performance increase in the rate of incoming works when I patched my daemon.&nbsp; I don&#039;t know how heavily solidcoin has been modified so not sure how easy/hard it will be to apply that patch but it really is essential.&nbsp; If patching isn&#039;t an option (or if it is and you just want more)... Then you could always setup a whole bunch of bitcoind&#039;s and feed them all into the poolserver.&nbsp; </div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>August 27, 2011, 10:16:46 AM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg483034#msg483034">Quote from: de4l on August 26, 2011, 08:28:33 PM</a></div><div class="quote">just needed 2 semicolons, 1 after each statement<br /></div><br />thanks, I&#039;ve fixed the sample sql files in 0.2.9.&nbsp; BTW 0.2.9 fixes a critical memory leak so please update.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>de4l</b> on <b>August 27, 2011, 02:59:35 PM</b>
					<hr />
					<div style="margin: 0 5ex;">I updated but now I&#039;m getting this error, tried re-installing the service too<br /><div class="codeheader">Code:</div><div class="code">[2011-08-27 09:56:56] [info]&nbsp; Running &#039;PoolServerJServicec&#039; Service...<br />[2011-08-27 09:56:56] [info]&nbsp; Starting service...<br />[2011-08-27 09:56:56] [error] %1 is not a valid Win32 application.<br />[2011-08-27 09:56:56] [error] Failed creating java C:\Program Files\Java\jdk1.7.0\jre\bin\server\jvm.dll<br />[2011-08-27 09:56:56] [error] %1 is not a valid Win32 application.<br />[2011-08-27 09:56:56] [error] ServiceStart returned 1<br />[2011-08-27 09:56:56] [error] %1 is not a valid Win32 application.<br />[2011-08-27 09:56:56] [info]&nbsp; Run service finished.<br />[2011-08-27 09:56:56] [info]&nbsp; Commons Daemon procrun finished</div></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>August 27, 2011, 03:26:22 PM</b>
					<hr />
					<div style="margin: 0 5ex;">Not sure what that one&#039;s all about I just did a diff between the 0.2.8 and 0.2.9 win-service.bat and they haven&#039;t changed... Are you running from the same directory?&nbsp; If not you may need to remove the service before reinstalling.&nbsp; Remember you *must* run win-service.bat from the bin directory or none of the paths will match up properly.<br /><br />You can try running PoolServerJServicew.exe which is a gui interface to show all the service settings.&nbsp; Check that all the paths in there are actually valid.&nbsp; I&#039;m just about to head to bed so if you don&#039;t have any luck let me know and I&#039;ll try a win-service install from the 0.2.9 binary in the morning and see what I can find.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>August 27, 2011, 11:17:11 PM</b>
					<hr />
					<div style="margin: 0 5ex;">oops... that&#039;s a little embarrassing.&nbsp; I put the 0.2.8 binary in the 0.2.9 distribution...<br />I&#039;ve updated the archive on the download page and also put the single jar file there if you want to just download that and copy it over the old one.<br /><br />Sorry about that...</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>de4l</b> on <b>August 28, 2011, 06:53:45 AM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg484518#msg484518">Quote from: shads on August 27, 2011, 03:26:22 PM</a></div><div class="quote">Not sure what that one&#039;s all about I just did a diff between the 0.2.8 and 0.2.9 win-service.bat and they haven&#039;t changed... Are you running from the same directory?&nbsp; If not you may need to remove the service before reinstalling.&nbsp; Remember you *must* run win-service.bat from the bin directory or none of the paths will match up properly.<br /><br />You can try running PoolServerJServicew.exe which is a gui interface to show all the service settings.&nbsp; Check that all the paths in there are actually valid.&nbsp; I&#039;m just about to head to bed so if you don&#039;t have any luck let me know and I&#039;ll try a win-service install from the 0.2.9 binary in the morning and see what I can find.<br /></div><br />I removed the older service and am starting over in a new folder, I re-downloaded the archive since you have updated it, still getting the same error, not sure what it is, could having 64bit java be messing with it? Even though I did have it running previously...</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>August 28, 2011, 06:56:06 AM</b>
					<hr />
					<div style="margin: 0 5ex;">did you try running the service gui and verifying that all paths etc it&#039;s recorded for the service are valid?</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>August 28, 2011, 07:10:21 AM</b>
					<hr />
					<div style="margin: 0 5ex;">ok just tried a service install using 0.2.9a.tar.gz (the one on the website).&nbsp; It work both for a 1.6_u25 Sun JDK.&nbsp; I tested both the 32bit and 64bit versions ok.&nbsp; I haven&#039;t tried openJDK1.7 but I can&#039;t see any reason why it would fail.&nbsp; Unless &quot;C:\Program Files\Java\jdk1.7.0\jre\bin\server\jvm.dll&quot; doesn&#039;t happen to exist in openJDK?<br /><br />You might try editing win-service.bat and changing the options : --StartMode=jvm and --StopMode=jvm to either &#039;java&#039; or &#039;exe&#039; (no quotes).<br /><br />Detail doc on service options available here: http://commons.apache.org/daemon/procrun.html<br /><br />procrun can be a bitch to get right so I&#039;m scared to touch it once I&#039;ve found a working config.<br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>de4l</b> on <b>August 28, 2011, 05:48:27 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg485715#msg485715">Quote from: shads on August 28, 2011, 07:10:21 AM</a></div><div class="quote">ok just tried a service install using 0.2.9a.tar.gz (the one on the website).&nbsp; It work both for a 1.6_u25 Sun JDK.&nbsp; I tested both the 32bit and 64bit versions ok.&nbsp; I haven&#039;t tried openJDK1.7 but I can&#039;t see any reason why it would fail.&nbsp; Unless &quot;C:\Program Files\Java\jdk1.7.0\jre\bin\server\jvm.dll&quot; doesn&#039;t happen to exist in openJDK?<br /><br />You might try editing win-service.bat and changing the options : --StartMode=jvm and --StopMode=jvm to either &#039;java&#039; or &#039;exe&#039; (no quotes).<br /><br />Detail doc on service options available here: http://commons.apache.org/daemon/procrun.html<br /><br />procrun can be a bitch to get right so I&#039;m scared to touch it once I&#039;ve found a working config.<br /><br /></div><br />I got it running and it seems much more stable than the last version, just need to do some performance tuning.&nbsp; I fixed it by finally getting the gui to run and then selecting &#039;use default&#039; instead of C:\Program Files\Java\jdk1.7.0\jre\bin\server\jvm.dll even though this file did exist, something was not working with it, no idea why.&nbsp; I think the default might be using my 32bit jre instead of the 64bit jdk that I installed just for this, but after reading your tips that 32bit java was better in this instance.... I&#039;ll just let it go since it&#039;s running now.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Leandro César</b> on <b>September 08, 2011, 05:15:31 PM</b>
					<hr />
					<div style="margin: 0 5ex;">Hi,<br /><br />I am using the last poolserverj on Fedora 15 64 bits, jdk 1.6 update 26, bitcoind 0.3.24 and get the follow error:<br /><br />org.json.JSONException: A JSONObject text must begin with &#039;{&#039; at character 1<br /><br />Can you help me?<br /><br />L.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>September 08, 2011, 10:43:01 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg514752#msg514752">Quote from: Leandro César on September 08, 2011, 05:15:31 PM</a></div><div class="quote">Hi,<br /><br />I am using the last poolserverj on Fedora 15 64 bits, jdk 1.6 update 26, bitcoind 0.3.24 and get the follow error:<br /><br />org.json.JSONException: A JSONObject text must begin with &#039;{&#039; at character 1<br /><br />Can you help me?<br /><br />L.<br /></div><br />I&#039;ll try but I need a bit more information.&nbsp; Can you make sure debug=true and logStacktrace=true then post the full stack strace.&nbsp; Also can you describe what&#039;s actually happening?&nbsp; Is it straight after start up?&nbsp; Is it when you send a getwork request from a miner?&nbsp; Is bitcoind running etc?</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>wtfman</b> on <b>September 12, 2011, 11:21:30 AM</b>
					<hr />
					<div style="margin: 0 5ex;">Hey, I am trying to test PoolServerJ but I have a problem with the db inserts.<br /><br />Using v0.29a<br /><br />Error:<br /><div class="codeheader">Code:</div><div class="code">work submit success, result: false<br />Submit Throttling on: false<br />Doing database flush for Shares: 1<br />Failed to commit to database.<br />java.sql.BatchUpdateException: Field &#039;block_num&#039; doesn&#039;t have a default value<br /><br />Query being executed when exception was thrown:<br />INSERT INTO shares (rem_host, username, our_result, upstream_result, reason, solution, time, source) VALUES (&#039;xx.xx.xx.xx&#039;, &#039;test&#039;, 1, 0, null, &#039;0001000131dcbc30ad5ae6021834e79139879666f1e628de6c78e9e600007d8a000000003c7fef66abefaba3bd824e32ab44351b8f0186196944b909c198b96ee01fc77a4e6de5471b00b269cce138bf000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000&#039;, &#039;2011-09-12 11:09:38&#039;, &#039;namecoind-localhost&#039;)<br /><br /><br />&nbsp; &nbsp; &nbsp; &nbsp; at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:2024)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.mysql.jdbc.PreparedStatement.executeBatch(PreparedStatement.java:1449)<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.apache.commons.dbcp.DelegatingStatement.executeBatch(DelegatingStatement.java:297)<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.apache.commons.dbcp.DelegatingStatement.executeBatch(DelegatingStatement.java:297)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.shadworld.poolserver.db.shares.DefaultPreparedStatementSharesDBFlushEngine.flushToDatabase(DefaultPreparedStatementSharesDBFlushEngine.java:111)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.shadworld.poolserver.logging.ShareLoggingThread.run(ShareLoggingThread.java:156)<br />Caused by: java.sql.SQLException: Field &#039;block_num&#039; doesn&#039;t have a default value<br /><br />Query being executed when exception was thrown:<br />INSERT INTO shares (rem_host, username, our_result, upstream_result, reason, solution, time, source) VALUES (&#039;xx.xx.xx.xx&#039;, &#039;test&#039;, 1, 0, null, &#039;0001000131dcbc30ad5ae6021834e79139879666f1e628de6c78e9e600007d8a000000003c7fef66abefaba3bd824e32ab44351b8f0186196944b909c198b96ee01fc77a4e6de5471b00b269cce138bf000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000&#039;, &#039;2011-09-12 11:09:38&#039;, &#039;namecoind-localhost&#039;)<br /><br /><br />&nbsp; &nbsp; &nbsp; &nbsp; at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1073)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3597)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3529)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1990)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2151)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2625)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2119)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2415)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1976)<br />&nbsp; &nbsp; &nbsp; &nbsp; ... 5 more<br />Flushed 1 shares to DB in 35.0ms (28/sec)<br /><br /></div><br /><br />Prepare Statement from Conf<br /><div class="codeheader">Code:</div><div class="code">### native - ensure usePushPoolCompatibleFormat=false<br />db.stmt.insertShare=INSERT INTO shares (rem_host, username, our_result, upstream_result, reason, solution, time, source) VALUES (?, ?, ?, ?, ?, ?, ?, ?)<br /></div><br /><br />Now, there does seem the insert for block_num to be missing, but no idea where I should put it in. I have looked a bit at the source code but didnt get an exact info. Pls help</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>September 12, 2011, 11:32:54 AM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg520647#msg520647">Quote from: wtfman on September 12, 2011, 11:21:30 AM</a></div><div class="quote">Prepare Statement from Conf<br /><div class="codeheader">Code:</div><div class="code">### native - ensure usePushPoolCompatibleFormat=false<br />db.stmt.insertShare=INSERT INTO shares (rem_host, username, our_result, upstream_result, reason, solution, time, source) VALUES (?, ?, ?, ?, ?, ?, ?, ?)<br /></div><br /><br />Now, there does seem the insert for block_num to be missing, but no idea where I should put it in. I have looked a bit at the source code but didnt get an exact info. Pls help<br /></div><br />It&#039;s trying to write a null to a NOT NULL column... try<br /><br />INSERT INTO shares (rem_host, username, our_result, upstream_result, reason, solution, time, source, block_num, prev_block_hash) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ? ,?)<br /><br />or alternately remove the NOT NULL restriction from the block_num and prev_block_hash columns.<br /><br />The supplied sql scripts in 0.2.9 set those columns to NOT NULL which they probably shouldn&#039;t have.&nbsp; Will be changed in the next release.<br /><br />BTW Unless you&#039;ve got a good reason for it I&#039;d leave out the prev_block_hash column.<br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>wtfman</b> on <b>September 12, 2011, 11:45:27 AM</b>
					<hr />
					<div style="margin: 0 5ex;">thanks!</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>wtfman</b> on <b>September 18, 2011, 06:59:14 PM</b>
					<hr />
					<div style="margin: 0 5ex;">hey, I tried to use latest poolserverj in pushpool compatible mode but it didnt work for me. I have a share table that isnt called &#039;shares&#039; and I also set it up in the properties file, but still it tried to insert data into &#039;shares&#039;<br /><br />I adjusted the db to your design, it works so far, but just now I found this in the stdout:<br /><br /><div class="codeheader">Code:</div><div class="code">Flushed 61 shares to DB in 35.0ms (1742/sec)<br />Pausing Share logging due to block change.<br />java.lang.IllegalStateException: IDLE,initial<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.server.AsyncContinuation.complete(AsyncContinuation.java:449)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.shadworld.poolserver.BlockChainTracker$NotifyLongpollClientsThread.run(BlockChainTracker.java:178)<br />java.lang.IllegalStateException: IDLE,initial<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.server.AsyncContinuation.complete(AsyncContinuation.java:449)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.shadworld.poolserver.BlockChainTracker$NotifyLongpollClientsThread.run(BlockChainTracker.java:178)<br />java.lang.IllegalStateException: IDLE,initial<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.server.AsyncContinuation.complete(AsyncContinuation.java:449)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.shadworld.poolserver.BlockChainTracker$NotifyLongpollClientsThread.run(BlockChainTracker.java:178)<br />java.lang.IllegalStateException: IDLE,initial<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.server.AsyncContinuation.complete(AsyncContinuation.java:449)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.shadworld.poolserver.BlockChainTracker$NotifyLongpollClientsThread.run(BlockChainTracker.java:178)<br />java.lang.IllegalStateException: IDLE,initial<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.server.AsyncContinuation.complete(AsyncContinuation.java:449)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.shadworld.poolserver.BlockChainTracker$NotifyLongpollClientsThread.run(BlockChainTracker.java:178)<br />java.lang.IllegalStateException: IDLE,initial<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.server.AsyncContinuation.complete(AsyncContinuation.java:449)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.shadworld.poolserver.BlockChainTracker$NotifyLongpollClientsThread.run(BlockChainTracker.java:178)<br />java.lang.IllegalStateException: IDLE,initial<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.server.AsyncContinuation.complete(AsyncContinuation.java:449)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.shadworld.poolserver.BlockChainTracker$NotifyLongpollClientsThread.run(BlockChainTracker.java:178)<br />java.lang.IllegalStateException: IDLE,initial<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.server.AsyncContinuation.complete(AsyncContinuation.java:449)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.shadworld.poolserver.BlockChainTracker$NotifyLongpollClientsThread.run(BlockChainTracker.java:178)<br /></div></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>September 19, 2011, 01:00:44 AM</b>
					<hr />
					<div style="margin: 0 5ex;">Hi wtfman,<br /><br />I assume you&#039;re running 0.2.9 then?&nbsp; If so then those errors aren&#039;t a problem.&nbsp; It&#039;s an expected exception and probably be logged.&nbsp; I&#039;m pretty sure it isn&#039;t unless you&#039;ve got debug enabled.<br /><br />However I really would recommend you get 0.3.0 working.&nbsp; The longpolling has been rewritten from scratch which has given it huge performance boosts as well as fixing a of obscure errors.<br /><br />Post some detail about the sql errors and I&#039;ll see if can help.&nbsp; There should be no problem using a different share table name since you can specify the query in the properties file.&nbsp; Post the query yr using, the table CREATE statement and any exceptions you&#039;re seeing in the log.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Remember remember the 5th of November</b> on <b>September 20, 2011, 07:41:57 PM</b>
					<hr />
					<div style="margin: 0 5ex;">I am currently &#039;testing&#039; the latest 0.3.0rc1. The first thing i notice is the CPU usage. I am running in pushpoold compatability. So why this CPU usage? Pushpoold rarely used any CPU but PJS uses one full core.<br /><br />The second thing i notice is that PSJ inserts shares quite a bit slower than pushpoold. And what it affects is the speed counted on my frontend. I am currently getting 40mh/s less detected in the frontend thereby people WILL lose coins.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>September 20, 2011, 10:58:33 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg536276#msg536276">Quote from: Remember remember the 5th of November on September 20, 2011, 07:41:57 PM</a></div><div class="quote">I am currently &#039;testing&#039; the latest 0.3.0rc1. The first thing i notice is the CPU usage. I am running in pushpoold compatability. So why this CPU usage? Pushpoold rarely used any CPU but PJS uses one full core.<br /></div><br />problem is most likely default cache size set too high. &nbsp;see: source.local.1.maxCacheSize and source.local.1.cacheWaitTimeout<br /><br />also: http://poolserverj.org/documentation/performance-memory-tuning/<br /><br />I&#039;m going to change the default settings in the next release to be more suitable for a small pool as I&#039;ve had this default setup for some extreme load tests and I keep getting this question.&nbsp; Suitable for a small pool is probably the most sane default since most people will fire it up in a low usage test environment first. &nbsp;I figure anyone evaluating psj for a pool larger than a couple of hundred GH is more likely to read the documentation and make the high performance adjustments needed..<br /><br /><div class="quoteheader">Quote</div><div class="quote">The second thing i notice is that PSJ inserts shares quite a bit slower than pushpoold. And what it affects is the speed counted on my frontend. I am currently getting 40mh/s less detected in the frontend thereby people WILL lose coins.<br /></div><br />shares are logged slower to the database by design.<br /><br />shares.maxEntrysToQueueBeforeCommit=5000<br /><br />shares.maxEntryAgeBeforeCommit=10<br /><br />you can effectively disable this delayed writing by setting these to 0.<br /><br />You are not getting any less Hashes on your pool. &nbsp;If anything you should be getting slightly more. &nbsp;I&#039;d lay money that the problem is with reporting. &nbsp;The work is still being dished out, hashed, returned and if valid submitted to the bitcoind so nothing is going missing. &nbsp;The timestamps are added when the work is submitted by the worker not when it&#039;s written to the database. &nbsp;Is your database using timestamps with a CURRENT_TIMESTAMP default value by any chance?<br /><br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>wtfman</b> on <b>September 21, 2011, 09:23:52 PM</b>
					<hr />
					<div style="margin: 0 5ex;">Hey shadders,<br /><br />I have the following problem:<br /><br />Some users experience a couple of rejected shares after each LP. This is what I can see in debug mode. You have an explanation or maybe even a solution for me here?<br /><br />Thanks for your help<br /><br /><div class="quoteheader">Quote</div><div class="quote">LP continuation reached LP servlet but is not in &#039;initial&#039; state: AsyncContinuation@89e2f1@REDISPATCHED,resumed<br />LP continuation reached LP servlet but is not in &#039;initial&#039; state: AsyncContinuation@3228a1@REDISPATCHED,resumed<br /></div></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>September 22, 2011, 01:30:15 AM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg538292#msg538292">Quote from: wtfman on September 21, 2011, 09:23:52 PM</a></div><div class="quote">Hey shadders,<br /><br />I have the following problem:<br /><br />Some users experience a couple of rejected shares after each LP. This is what I can see in debug mode. You have an explanation or maybe even a solution for me here?<br /><br />Thanks for your help<br /><br /><div class="quoteheader">Quote</div><div class="quote">LP continuation reached LP servlet but is not in &#039;initial&#039; state: AsyncContinuation@89e2f1@REDISPATCHED,resumed<br />LP continuation reached LP servlet but is not in &#039;initial&#039; state: AsyncContinuation@3228a1@REDISPATCHED,resumed<br /></div></div><br />I could be wrong but I think those log messages are a seperate and possibly unrelated thing.&nbsp; Actually they shouldn&#039;t be a problem, what I think it is is that the request was previously suspended and resumed by the QoS filter before it reached the LP servlet.&nbsp; I didn&#039;t take that into account and expected any LP request should arrive in an initial state.&nbsp; I&#039;ll log it as a bug.&nbsp; &nbsp;A workaround for now would be disable the QoS filter.&nbsp; Actually I&#039;d be interested to see if that makes a difference.<br /><br />As for the rejected shares, the ideal sequence of events is something like:<br />1/ worker gets work<br />2/ worker submits share<br />3/ worker gets work<br />4/ psj detects new block<br />5/ psj collects fresh work from bitcoind<br />6/ psj sends LP response<br />7/ worker receives LP response<br />8/ worker submits share<br /><br />The time between 4 and 7 should be very minimal but if worker happens to submit share in that space it will be rejected.&nbsp; This should be no more than 1-2 seconds on a busy server provided the bitcoind is patched and able to feed new work to the poolserver fast enough.<br /><br />If it&#039;s not some other fault then something is probably causing that gap to be higher than it should... watch the log during a block change with debug=true.&nbsp; You should see when the new block is detected and it should also tell when all LP responses have been dispatched (and how long it took).&nbsp; Anything longer a 1000ms is not ideal.&nbsp; Large pools are able to push several thousand in under a second with psj.&nbsp; A likely candidate for slowing this down is an unpatched bitcoind.&nbsp; please see https://bitcointalk.org/index.php?topic=22585.msg384157#msg384157 if you don&#039;t have the multithreaded rpc patch.<br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>wtfman</b> on <b>September 22, 2011, 10:15:30 AM</b>
					<hr />
					<div style="margin: 0 5ex;">I actually have that patch running. Takes &gt; 5 secs to dispatch the LP responses, though on a ~20 GHash/s load with 70 workers. I didn&#039;t even notice the incoming rate &gt; 500/s ever, even after restart and big max cache.<br /><br />Is it very likely&nbsp; then, that it is caused by the server performance overall?</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>September 22, 2011, 10:37:19 AM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg539189#msg539189">Quote from: wtfman on September 22, 2011, 10:15:30 AM</a></div><div class="quote">Is it very likely&nbsp; then, that it is caused by the server performance overall?<br /></div><br />I doubt it, unless you&#039;re running on very limited hardware.&nbsp; 70 LP&#039;s should be taking 500ms *max* unless you&#039;re running on a pocket calculator with dialup.<br /><br />perhaps you should try collecting some logs and send to me as described in this post: https://bitcointalk.org/index.php?topic=33142.msg538639#msg538639<br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>September 22, 2011, 11:50:29 AM</b>
					<hr />
					<div style="margin: 0 5ex;">ok looked at yr logs and I can only see one possibility atm if you&#039;re running the 4diff patch...<br /><br />source.local.1.blockmonitor.maxPollInterval=20<br /><br />this is a constant 50 requests/sec.&nbsp; Which is loading yr bitcoind as well as the pool... This should be fairly trivial to reasonable hardware though.&nbsp; <br /><br />What is the spec of yr server and what else is running on it?<br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>September 22, 2011, 10:40:52 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg539189#msg539189">Quote from: wtfman on September 22, 2011, 10:15:30 AM</a></div><div class="quote">Is it very likely&nbsp; then, that it is caused by the server performance overall?<br /></div><br />ok looking at yr top output it looks like your system is definately paging.&nbsp; You should probably restrict java&#039;s max heap size as it&#039;s default is quite greedy.&nbsp; Take a look at: http://poolserverj.org/documentation/performance-memory-tuning/<br /><br />Particularly the very last section: &quot;Limit the JVM Heap Size&quot;<br /><br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>DavinciJ15</b> on <b>September 28, 2011, 02:29:07 PM</b>
					<hr />
					<div style="margin: 0 5ex;">Quick question?<br /><br />Is there a way to include the USER_ID found in the worker table when inserting into the shares table?</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Nebuluz</b> on <b>September 28, 2011, 03:45:26 PM</b>
					<hr />
					<div style="margin: 0 5ex;">First, awesome work there shad... PoolServerJ performance over pushpool is great.<br /><br />Just got a two short question and a request :D<br /><br />1)<br />&nbsp;atm i&#039;m running poolserverj in screen and it works great, but if anyone got other suggestion please post :D<br /><br />2)<br />When i check the screen it looks like this:<br /><br />Doing database flush for Shares: 10<br />Flushed 10 shares to DB in 9.0ms (1111/sec)<br />Trimmed 14 entries from workmap and 29 entries from duplicate check sets in 0ms<br />Dropping submit throttle to 2ms<br />Submit Throttling on: false<br />Doing database flush for Shares: 7<br />Flushed 7 shares to DB in 4.0ms (1749/sec)<br />Submit Throttling on: false<br />Doing database flush for Shares: 15<br />Flushed 15 shares to DB in 8.0ms (1874/sec)<br />Trimmed 16 entries from workmap and 1003 entries from duplicate check sets in 0ms<br />Submit Throttling on: false<br />Doing database flush for Shares: 14<br />Flushed 14 shares to DB in 4.0ms (3499/sec)<br /><br />I just wonder what does Submit Throttling on: false mean?<br /><br />Request:<br />I also got an request about ?method=getsourcestats, it would be nice to have a short description on what each stats really mean, if you could make a short list it would be nice.<br /><br />Sorry all dumb question :)<br /><br />Btw, i run bitcoind 0.4.0, did switch from bitcoind 0.3.24(patched with joelkatz diff4) and it seems to run great with the new bitcoind.<br /><br />/Best regards</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>DavinciJ15</b> on <b>September 29, 2011, 07:18:40 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg548791#msg548791">Quote from: Nebuluz on September 28, 2011, 03:45:26 PM</a></div><div class="quote"><br />2)<br />When i check the screen it looks like this:<br /></div><br />Dude I have it running with &quot;screen&quot; command how do you check the screen?<br /><br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>September 30, 2011, 09:46:34 AM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg548713#msg548713">Quote from: DavinciJ15 on September 28, 2011, 02:29:07 PM</a></div><div class="quote">Quick question?<br /><br />Is there a way to include the USER_ID found in the worker table when inserting into the shares table?<br /></div><br />It&#039;s easy to do but I&#039;d have to make a minor code change and add it as a config option so it doesn&#039;t break backward compatibility.<br /><br />If you log a feature request on the source code repo site I&#039;ll add it to the todo list.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>September 30, 2011, 10:22:13 AM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg548791#msg548791">Quote from: Nebuluz on September 28, 2011, 03:45:26 PM</a></div><div class="quote">First, awesome work there shad... PoolServerJ performance over pushpool is great.<br /><br />Just got a two short question and a request :D<br /><br />1)<br />&nbsp;atm i&#039;m running poolserverj in screen and it works great, but if anyone got other suggestion please post :D<br /><br />2)<br />When i check the screen it looks like this:<br /><br />Doing database flush for Shares: 10<br />Flushed 10 shares to DB in 9.0ms (1111/sec)<br />Trimmed 14 entries from workmap and 29 entries from duplicate check sets in 0ms<br />Dropping submit throttle to 2ms<br />Submit Throttling on: false<br />Doing database flush for Shares: 7<br />Flushed 7 shares to DB in 4.0ms (1749/sec)<br />Submit Throttling on: false<br />Doing database flush for Shares: 15<br />Flushed 15 shares to DB in 8.0ms (1874/sec)<br />Trimmed 16 entries from workmap and 1003 entries from duplicate check sets in 0ms<br />Submit Throttling on: false<br />Doing database flush for Shares: 14<br />Flushed 14 shares to DB in 4.0ms (3499/sec)<br /><br />I just wonder what does Submit Throttling on: false mean?<br /><br />Request:<br />I also got an request about ?method=getsourcestats, it would be nice to have a short description on what each stats really mean, if you could make a short list it would be nice.<br /><br />Sorry all dumb question :)<br /><br />Btw, i run bitcoind 0.4.0, did switch from bitcoind 0.3.24(patched with joelkatz diff4) and it seems to run great with the new bitcoind.<br /><br />/Best regards<br /></div><br />1/ daemonizing poolserverj has been on my todo list since day one but this is actually the first time anyone has asked about it.&nbsp; I&#039;m not much of a bash expert but I think if you do something like this:<br /><br />normalStartCommand &gt; mylogfile.txt &amp;<br /><br />that should redirect the output to a file and run it as a background process so you can keep using your shell.&nbsp; <br /><br />2/ submit throttling is a fairly useless feature.&nbsp; It kicks in if a db flush is triggered and the previous one hasn&#039;t finished yet.&nbsp; It was useful during stress testing when I had a fixed number of fake miners so it would effectively throttle the submit rate.&nbsp; In the real world though it won&#039;t really have any effect aside from giving the miner a short delay before they receive a response to their share submits...&nbsp; I will get rid of it one of these days.<br /><br />3/ getsourcestats is also something I built as an aid to testing so I didn&#039;t really give much though to making it readable.&nbsp; Most of the stats are useful, some of them do nothing and some give completely rubbish results.&nbsp; I also have a TODO to turn that in proper API probably with JSON output so when that&#039;s done and I&#039;ve stripped out the useless stuff and put some other more useful things in I&#039;ll write up some doco...<br /><br />But for now here&#039;s a brief rundown (comments in italics):<br /><br />Memory used: 4.4375 MB - Freed by GC: 9.900390625MB<br /><br /><i>This only refers to heap memory.&nbsp; Depending on how many connection threads you&#039;ve got assigned you can add about 10-30mb to this to get real memory usage.&nbsp; The total of &#039;used&#039; + &#039;freed&#039; is approx the currently allocated heap size.</i><br /><br />State [bitcoind-patch] <i>these stats are per daemon, if you multiples you see this section repeated</i><br />&nbsp; &nbsp; <br />&nbsp; &nbsp; Current Cache Max: 1000 - min/max: 1/1000<br />&nbsp; &nbsp; Current Cache Size: 998<br /><i>this is the work cache.&nbsp; min/max are meaningless atm.&nbsp; There used to be a dynamic cache sizing algorithm but it was a bit crap so I took it out.&nbsp; The 1000 represent the max number before it will stop calling for more work.&nbsp; The 998 is current number in cache.&nbsp; This can occasionally creep over your max by up to Concurrent DL Requests.</i><br /><br />&nbsp; &nbsp; Concurrent DL Requests: 10 - min/max: 1/20<br /><br /><i>This is a gotcha, currently this gets set to 1/2 the value you&#039;ve set.&nbsp; Another hangover from the old dynamic cache sizing algo which also regulated request rate.</i><br /><br />&nbsp; &nbsp; DL Request Interval (ms): 0 - min/max: 0/100<br />&nbsp; &nbsp; Current Ask Rate (works/req): 10<br /><br /><i>these 2 are rubbish</i><br /><br />&nbsp; &nbsp; Consecutive Connect Fails: 0<br />&nbsp; &nbsp; Consecutive Http Fails: 0<br />&nbsp; &nbsp; Consecutive Http Auth Fails: 0<br />&nbsp; &nbsp; Consecutive Http Busy Fails: 0<br /><br /><i>These do actually work but they&#039;ll always be zero unless yr daemon crashes or you have network problems between psj and bitcoind.</i><br /><br />&nbsp; &nbsp; Cache Excess: 1,002.5<br />&nbsp; &nbsp; Cache Excess Trend: 0.06<br /><br /><i>rubbish</i><br /><br />&nbsp; &nbsp; Cache Retreival Age: 13885<br /><br /><i>avg age of work work when retrieved from cache.&nbsp; measured in millis from when it was retrieved from daemon</i><br /><br />&nbsp; &nbsp; Incoming Rate: 36.69/sec<br /><br /><i>how many works/sec you&#039;re getting from the daemon.&nbsp; This doesn&#039;t represent the maximum but if you look straight after a block change for a few seconds it will probably be close.</i><br /><br />&nbsp; &nbsp; Incoming Fullfillment Rate: 100%<br /><br /><i>number request/number received.&nbsp; This will drop under 100% if you have http errors or daemon stops responding to requests for any reason.</i><br /><br />&nbsp; &nbsp; Outgoing Requested Rate: 0.78/sec<br />&nbsp; &nbsp; Outgoing Delivered Rate: 0.78/sec<br />&nbsp; &nbsp; Outgoing Fullfillment Rate: 100%<br /><br /><i>same thing basically.&nbsp; Except if fullfillment drops below it most likely means psj can&#039;t get work from the daemon fast enough.</i><br /><br />Longpoll Connections: 1 / 1000<br /><br /><i>Ignore the 1000.&nbsp; There used to be a limit but there&#039;s not anymore.&nbsp; Connections will include connections that have been silently dropped by the client but not connection that have expired.</i><br /><br />WorkSource Stats:<br />&nbsp; &nbsp; &nbsp; Stats for source: [bitcoind-patch]<br />&nbsp; &nbsp; &nbsp; &nbsp; Current Block: 147243<br />&nbsp; &nbsp; &nbsp; &nbsp; Cache:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Work Received: 42965<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Work Delivered: 978<br /><br /><i>fairly obvious, duplicate below</i><br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Upstream Request Fail Rate: 0%<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Upstream Request Fail Rate Tiny: 0%<br /><i>rubbish</i><br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Immediately Serviced Rate: 91.2%<br /><br /><i>This one is worth a comment.&nbsp; Immediately serviced mean miner request work, psj checked cache and found one already available.&nbsp; If the cache is empty it will wait a few seconds for one to arrive and this counts as &#039;not immediate&#039;&nbsp; In reality it might only be a millisecond or two.</i><br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MultiGet Delivery Rate: ?%<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Delayed Serviced Rate: 100%<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Not Serviced Rate: 0%<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Expired Work Rate: 100%<br /><i>rubbish</i><br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Duplicate Work Rate: 0%<br /><br /><i>Usually 0 but if you have an unpatched daemon there&#039;s a bug that cause duplicates... If you ever see this higher than 0.01% keep an eye on it, it&#039;s a definately indicator something is wrong.</i><br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Cache Growth Rate: 17.228%<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Cache Growth Rate Short: 29.76%<br /><br /><i>rubbish</i><br /><br />&nbsp; &nbsp; &nbsp; &nbsp; Work Submissions:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Work Supplied: 978<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Work Submitted: 0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Work Submitted Invalid: 0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Work Submitted Unknown: 0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Work Submitted Valid: 0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Work Submitted Valid Real: 0<br /><br /><i>not rubbish but doesn&#039;t work.</i><br /><br />&nbsp; &nbsp; &nbsp; &nbsp; HTTP:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Requests Issued: 42972<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Fail Rate: 0%<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Success trip time: 24.56 ms<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Header trip time: 24.55 ms<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Fail trip time: ? ms<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Expire trip time: ? ms<br /><br /><i>These are about the HTTP connection between psj and daemon.&nbsp; Nothing to do with miner side of the server.&nbsp; The trip times are a useful for tuning max concurrent connections... Once the latency start to go up dramatically you&#039;ve probably got too many.</i><br /><br />&nbsp; &nbsp; &nbsp; &nbsp; Cache Age:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Entries: 998 Oldest: 10337 Newest: 4032 Avg: 5418 Reject Rate: 0%<br /><br />stats on the current contents of the cache.&nbsp; Oldest. Newest, Avg are age in millis.&nbsp; Reject Rate is basically the same thing a Duplicate rate except with a different moving average period.<br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>eleuthria</b> on <b>October 06, 2011, 08:34:12 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg538681#msg538681">Quote from: shads on September 22, 2011, 01:30:15 AM</a></div><div class="quote">If it&#039;s not some other fault then something is probably causing that gap to be higher than it should... watch the log during a block change with debug=true. &nbsp;You should see when the new block is detected and it should also tell when all LP responses have been dispatched (and how long it took). &nbsp;Anything longer a 1000ms is not ideal. &nbsp;Large pools are able to push several thousand in under a second with psj.<br /></div><br />Just to add a reference point, BTC Guild pushes out between 6,000 and 8,000 LPs depending on the time of day. &nbsp;Our average time is between 600ms and 1000ms. &nbsp;It can be even faster if both of our bitcoinds detected the new block simultaneously (our record was 490ms for ~7,500 LPs). &nbsp;This is with two bitcoind clients, running on dedicated servers. &nbsp;One is local on the same server as PSJ, one is running on another server in the same datacenter which runs the database.<br /><br />This may improve even more soon, ArtForz has been looking into an extra optimization in bitcoind&#039;s getwork code and merging it with JoelKatz&#039;s 4diff patch.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Remember remember the 5th of November</b> on <b>October 09, 2011, 02:28:09 AM</b>
					<hr />
					<div style="margin: 0 5ex;">Can you please add the X-Roll-Ntime header? </div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>wtfman</b> on <b>October 23, 2011, 11:36:04 AM</b>
					<hr />
					<div style="margin: 0 5ex;">running mm-0.5 I stumble upon this error every now and then. <br /><br />org.eclipse.jetty.io.RuntimeIOException: org.eclipse.jetty.io.EofException<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.io.UncheckedPrintWriter.setError(UncheckedPrintWriter.java:107)<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.io.UncheckedPrintWriter.write(UncheckedPrintWriter.java:280)<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.io.UncheckedPrintWriter.write(UncheckedPrintWriter.java:295)<br />&nbsp; &nbsp; &nbsp; &nbsp; at java.io.PrintWriter.append(PrintWriter.java:977)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.shadworld.poolserver.LongpollHandler.completeLongpoll(LongpollHandler.java:177)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.shadworld.poolserver.LongpollHandler$LongpollTimeoutTask.call(LongpollHandler.java:340)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.shadworld.poolserver.LongpollHandler$LongpollTimeoutTask.call(LongpollHandler.java:1)<br />&nbsp; &nbsp; &nbsp; &nbsp; at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)<br />&nbsp; &nbsp; &nbsp; &nbsp; at java.util.concurrent.FutureTask.run(FutureTask.java:166)<br />&nbsp; &nbsp; &nbsp; &nbsp; at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:165)<br />&nbsp; &nbsp; &nbsp; &nbsp; at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:266)<br />&nbsp; &nbsp; &nbsp; &nbsp; at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)<br />&nbsp; &nbsp; &nbsp; &nbsp; at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)<br />&nbsp; &nbsp; &nbsp; &nbsp; at java.lang.Thread.run(Thread.java:636)<br />Caused by: org.eclipse.jetty.io.EofException<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.http.HttpGenerator.flushBuffer(HttpGenerator.java:911)<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.http.AbstractGenerator.flush(AbstractGenerator.java:431)<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.server.HttpOutput.flush(HttpOutput.java:89)<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.server.HttpConnection$Output.flush(HttpConnection.java:1139)<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:168)<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:96)<br />&nbsp; &nbsp; &nbsp; &nbsp; at java.io.ByteArrayOutputStream.writeTo(ByteArrayOutputStream.java:126)<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.server.HttpWriter.write(HttpWriter.java:283)<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.server.HttpWriter.write(HttpWriter.java:107)<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.io.UncheckedPrintWriter.write(UncheckedPrintWriter.java:271)<br />&nbsp; &nbsp; &nbsp; &nbsp; ... 12 more<br />Caused by: java.io.IOException: Broken pipe<br />&nbsp; &nbsp; &nbsp; &nbsp; at sun.nio.ch.FileDispatcher.writev0(Native Method)<br />&nbsp; &nbsp; &nbsp; &nbsp; at sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:51)<br />&nbsp; &nbsp; &nbsp; &nbsp; at sun.nio.ch.IOUtil.write(IOUtil.java:182)<br />&nbsp; &nbsp; &nbsp; &nbsp; at sun.nio.ch.SocketChannelImpl.write0(SocketChannelImpl.java:383)<br />&nbsp; &nbsp; &nbsp; &nbsp; at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:406)<br />&nbsp; &nbsp; &nbsp; &nbsp; at java.nio.channels.SocketChannel.write(SocketChannel.java:384)<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.io.nio.ChannelEndPoint.gatheringFlush(ChannelEndPoint.java:347)<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.io.nio.ChannelEndPoint.flush(ChannelEndPoint.java:285)<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.io.nio.SelectChannelEndPoint.flush(SelectChannelEndPoint.java:259)<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.http.HttpGenerator.flushBuffer(HttpGenerator.java:843)<br />&nbsp; &nbsp; &nbsp; &nbsp; ... 21 more<br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Jine</b> on <b>October 23, 2011, 01:56:34 PM</b>
					<hr />
					<div style="margin: 0 5ex;">I&#039;ve started testing poolserverj at bitcoins.lc for handling larger loads better (Having issues with LP&#039;s against large amount of connections).<br />But before rolling out anything public, i really need to get rid of the DATETIME-fields in MySQL. Is that possible?<br /><br />I&#039;d like to have everything in GMT UNIX Timestamps. One &quot;hackish&quot; way would be to do the conversion in the statement, but I&#039;d like actually make poolserverj to insert unix timestamp instead of having to do a TO_UNIXTIME(?) in the statment.<br /><br />Even better would be to drop MySQL entirely and finally use a better scaling database (MongoDB/other No-sql DB) and let Mongo take care of timestamps by it&#039;s own, also let mongodb take care of replication and load balancing / sharding.<br /><br />Any planned NoSQL-support?</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>wtfman_mobile</b> on <b>October 23, 2011, 02:37:32 PM</b>
					<hr />
					<div style="margin: 0 5ex;">hey again.<br /><br />there was even another issue with running mm-0.5. It worked great until first Long Poll, then CPU usage skyrocketed and didnt drop any more. After a couple of mins the work queue was emptied out so miners only received No Work available message and pool hash rate dropped to 0.0 Hash/s.<br /><br />I have tried it before with only 2 miners in testnet and there was no problem. Problem occured with approximately 15Ghash/s and 60 workers.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>urstroyer</b> on <b>October 23, 2011, 03:17:58 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg589651#msg589651">Quote from: wtfman_mobile on October 23, 2011, 02:37:32 PM</a></div><div class="quote">hey again.<br /><br />there was even another issue with running mm-0.5. It worked great until first Long Poll, then CPU usage skyrocketed and didnt drop any more. After a couple of mins the work queue was emptied out so miners only received No Work available message and pool hash rate dropped to 0.0 Hash/s.<br /><br />I have tried it before with only 2 miners in testnet and there was no problem. Problem occured with approximately 15Ghash/s and 60 workers.<br /></div><br />I have exactly the same issue, poolserverj mm is running smooth at low cpu usage and finding both nmc and btc blocks until network block is found and lp happens.<br />Then bitcoind is under heavy cpu usage until i restart the poolserverj. We currently use a 4diff patched version of vinced bitcoind.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>October 24, 2011, 12:05:52 AM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg589506#msg589506">Quote from: wtfman on October 23, 2011, 11:36:04 AM</a></div><div class="quote">running mm-0.5 I stumble upon this error every now and then. <br /><br />org.eclipse.jetty.io.RuntimeIOException: org.eclipse.jetty.io.EofException<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.io.UncheckedPrintWriter.setError(UncheckedPrintWriter.java:107)<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.io.UncheckedPrintWriter.write(UncheckedPrintWriter.java:280)<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.eclipse.jetty.io.UncheckedPrintWriter.write(UncheckedPrintWriter.java:295)<br />&nbsp; &nbsp; &nbsp; &nbsp; at java.io.PrintWriter.append(PrintWriter.java:977)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.shadworld.poolserver.LongpollHandler.completeLongpoll(LongpollHandler.java:177)<br /></div><br />This is a normal/expected exception.&nbsp; It happens when psj tries to send a longpoll response but the client has silently dropped the connection.&nbsp; In this case psj will recycle the work for the next LP connection in the queue.<br /><br />The reason yr seeing it now and may not have before is that while psj-mm is in alpha I&#039;m dumping a lot more events to the log so I can see better what&#039;s going on inside.&nbsp; This particularly exception happens all the time with pre-mm version but isn&#039;t logged.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>October 24, 2011, 12:21:57 AM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg589608#msg589608">Quote from: Jine on October 23, 2011, 01:56:34 PM</a></div><div class="quote">I&#039;ve started testing poolserverj at bitcoins.lc for handling larger loads better (Having issues with LP&#039;s against large amount of connections).<br />But before rolling out anything public, i really need to get rid of the DATETIME-fields in MySQL. Is that possible?<br /><br />I&#039;d like to have everything in GMT UNIX Timestamps. One &quot;hackish&quot; way would be to do the conversion in the statement, but I&#039;d like actually make poolserverj to insert unix timestamp instead of having to do a TO_UNIXTIME(?) in the statment.<br /><br />Even better would be to drop MySQL entirely and finally use a better scaling database (MongoDB/other No-sql DB) and let Mongo take care of timestamps by it&#039;s own, also let mongodb take care of replication and load balancing / sharding.<br /><br />Any planned NoSQL-support?<br /></div><br />Well before the advent of merged mining PSJ had exceptional longpoll performance but as you can see from the last few posts in this thread there&#039;s a few issues to be ironed out....<br /><br />There is one good reason why you&#039;d want to have timestamps set on the psj side rather than DB side.&nbsp; Because psj caches shares and bulk writes them there can be a delay between when they came in and when the DB sees them.&nbsp; PSJ timestamps the share as soon as it&#039;s received and uses this timestamp when writing to the db.&nbsp; So if accurate share times are important to you that&#039;s something to consider.<br /><br />I&#039;m not really familiar with mongo or no-sql.&nbsp; If they have JDBC drivers then adding support would be fairly trivial.&nbsp; However it won&#039;t happen until mm is stabilised.&nbsp; Dropping mysql support isn&#039;t likely sits it&#039;s most commonly used.<br /><br />Having poolserver insert a timestamp directly should also be fairly trivial.&nbsp; The internal representation is the same as a unix timestamp GMT but in millis instead of seconds.&nbsp; If you&#039;re comfortable building from source it would only be a couple of lines needed modding in DefaultPreparedStatementSharesDBFlushEngine.&nbsp; If you really want crazy performance and your share writes don&#039;t update existing rows have a look at the bulkloader engines in the source.<br /><br />I presume what yr actually after is just an integer column?&nbsp; If so have you tried just changing the column type to see if it works?&nbsp; The code that sets is this:<br />stmt.setTimestamp(7, new Timestamp(entry.createTime));<br /><br />And I have a feeling if the target column type is a BIGINT it will probably just convert it.<br /><br />If not the change you&#039;d need to make would be something like:<br />stmt.setLong(7, entry.createTime / 1000);<br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>October 24, 2011, 12:30:22 AM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg589695#msg589695">Quote from: urstroyer on October 23, 2011, 03:17:58 PM</a></div><div class="quote"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg589651#msg589651">Quote from: wtfman_mobile on October 23, 2011, 02:37:32 PM</a></div><div class="quote">hey again.<br /><br />there was even another issue with running mm-0.5. It worked great until first Long Poll, then CPU usage skyrocketed and didnt drop any more. After a couple of mins the work queue was emptied out so miners only received No Work available message and pool hash rate dropped to 0.0 Hash/s.<br /><br />I have tried it before with only 2 miners in testnet and there was no problem. Problem occured with approximately 15Ghash/s and 60 workers.<br /></div><br />I have exactly the same issue, poolserverj mm is running smooth at low cpu usage and finding both nmc and btc blocks until network block is found and lp happens.<br />Then bitcoind is under heavy cpu usage until i restart the poolserverj. We currently use a 4diff patched version of vinced bitcoind.<br /></div><br /><br />When you see this happen can you try checking http://localhost:8997/?method=getsourcestats and report back is Duplicate rate or Reject rate are above zero?<br /><br />If not can you set debug=true trace=true traceTargets=merged and throw the output onto pastebin?<br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>DavinciJ15</b> on <b>October 24, 2011, 02:20:46 AM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg589695#msg589695">Quote from: urstroyer on October 23, 2011, 03:17:58 PM</a></div><div class="quote"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg589651#msg589651">Quote from: wtfman_mobile on October 23, 2011, 02:37:32 PM</a></div><div class="quote">hey again.<br /><br />there was even another issue with running mm-0.5. It worked great until first Long Poll, then CPU usage skyrocketed and didnt drop any more. After a couple of mins the work queue was emptied out so miners only received No Work available message and pool hash rate dropped to 0.0 Hash/s.<br /><br />I have tried it before with only 2 miners in testnet and there was no problem. Problem occured with approximately 15Ghash/s and 60 workers.<br /></div><br />I have exactly the same issue, poolserverj mm is running smooth at low cpu usage and finding both nmc and btc blocks until network block is found and lp happens.<br />Then bitcoind is under heavy cpu usage until i restart the poolserverj. We currently use a 4diff patched version of vinced bitcoind.<br /></div><br />This also happens to me with mm-psj&nbsp; one suggestion from shadders was to set forceAllSubmitsUpstream to false.<br /><br />I have not tried it.&nbsp; Also you should lower your work cache sizes big time.<br /><br />I know you where upset with me in the chat room for not using/testing it but I had a working part of my pool and many other parts that where not working I had to prioritize them as people wanted me to expand into other countries.<br /><br />Also I was hoping you would find the bug and issue a new version before I got a chance to retry your suggestions.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>urstroyer</b> on <b>October 24, 2011, 04:58:40 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg590296#msg590296">Quote from: shads on October 24, 2011, 12:30:22 AM</a></div><div class="quote"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg589695#msg589695">Quote from: urstroyer on October 23, 2011, 03:17:58 PM</a></div><div class="quote"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg589651#msg589651">Quote from: wtfman_mobile on October 23, 2011, 02:37:32 PM</a></div><div class="quote">hey again.<br /><br />there was even another issue with running mm-0.5. It worked great until first Long Poll, then CPU usage skyrocketed and didnt drop any more. After a couple of mins the work queue was emptied out so miners only received No Work available message and pool hash rate dropped to 0.0 Hash/s.<br /><br />I have tried it before with only 2 miners in testnet and there was no problem. Problem occured with approximately 15Ghash/s and 60 workers.<br /></div><br />I have exactly the same issue, poolserverj mm is running smooth at low cpu usage and finding both nmc and btc blocks until network block is found and lp happens.<br />Then bitcoind is under heavy cpu usage until i restart the poolserverj. We currently use a 4diff patched version of vinced bitcoind.<br /></div><br /><br />When you see this happen can you try checking http://localhost:8997/?method=getsourcestats and report back is Duplicate rate or Reject rate are above zero?<br /><br />If not can you set debug=true trace=true traceTargets=merged and throw the output onto pastebin?<br /><br /></div><br />Running psj mm for an hour now with 35gh/s load an got some new test results.<br /><br />I seems like the heavy cpu load (70-80%) on bitcoind happens CAN happen on every lp which was trigged from a new network block.<br /><br />When this happens, i noticed that the field block_num in shares table gets the current NMC block number!<br /><br />It also happend that on another network block and lp the cpu usage got back to normal 3-5% load and guess what! The field block_num in shares table got the BTC block number again on every share.<br /><br />The situation can actually switch every on every lp.<br /><br />Here are two snapshots of getsourcestats:<br />#### 1 minute after starting psj (heavy cpu load, nmc block_num in shares table) ####<br />http://pastebin.com/BMAx0vgG<br /><br />#### 30 minute after starting psj (heavy cpu load, nmc block_num in shares table) ####<br />http://pastebin.com/zViA7K5b<br /><br />#### Console on lp (normal cpu load to heavy cpu load) ####<br />http://pastebin.com/zhfQG1ES<br /><br />I couldn&#039;t figure out what circumstances cause this effect, it seems pretty random to me. Maybe can help.<br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>October 25, 2011, 01:26:36 AM</b>
					<hr />
					<div style="margin: 0 5ex;">Thanks for the info Urstroyer...&nbsp; I think this is the indicator I needed:<br /><br /><div class="codeheader">Code:</div><div class="code">#<br />Incoming Rate: 3,387.53/sec<br />Incoming Fullfillment Rate: 100%<br />Outgoing Requested Rate: 29.5/sec</div><br />Somewhere in the chain it&#039;s discarding valid work and getting more from the daemon.&nbsp; Not because of duplicates in this case.&nbsp; One of the validation checks it does is to ensure the work is from the current block before sending out.&nbsp; It seems having different sets of block numbers is causing a bit confusion.<br /><br />I&#039;m actually nearly ready to release the fix that should make longpolling work for both chains and I&#039;ve replaced the blocknum field (which was just a long int) which a new BlockNumbers class that tracks blocks for all chains so that should be the end of it with a bit of luck.<br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>October 25, 2011, 07:26:44 AM</b>
					<hr />
					<div style="margin: 0 5ex;">MM edition .06 is now on the downloads page.&nbsp; This is first version of MM that I&#039;m reasonably happy with.<br /><br />It should now be sending longpolls if either block changes and the server is now actively monitoring the state of all block chains..&nbsp; Issues with high CPU load caused by PSJ rejecting valid work should also be resolved.<br /><br />If you are going to try it I&#039;d appreciate if you could set the following:<br />debug=true<br />trace=true<br />traceTargets=blockmon<br /><br />If anything odd happens this should give me some useful info to play with.<br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>wtfman</b> on <b>October 25, 2011, 07:55:35 AM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg592408#msg592408">Quote from: shads on October 25, 2011, 07:26:44 AM</a></div><div class="quote">MM edition .06 is now on the downloads page.&nbsp; This is first version of MM that I&#039;m reasonably happy with.<br /><br />It should now be sending longpolls if either block changes and the server is now actively monitoring the state of all block chains..&nbsp; Issues with high CPU load caused by PSJ rejecting valid work should also be resolved.<br /><br />If you are going to try it I&#039;d appreciate if you could set the following:<br />debug=true<br />trace=true<br />traceTargets=blockmon<br /><br />If anything odd happens this should give me some useful info to play with.<br /><br /></div><br />great, testing it right now</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>urstroyer</b> on <b>October 25, 2011, 10:18:59 AM</b>
					<hr />
					<div style="margin: 0 5ex;">Running very smooth now! Great work! Even lp is happening quite often, seems to work out.<br /><br />I&#039;ll report back after some more hours on load.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>DavinciJ15</b> on <b>October 25, 2011, 01:25:48 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg592408#msg592408">Quote from: shads on October 25, 2011, 07:26:44 AM</a></div><div class="quote">MM edition .06 is now on the downloads page.&nbsp; This is first version of MM that I&#039;m reasonably happy with.<br /><br />It should now be sending longpolls if either block changes and the server is now actively monitoring the state of all block chains..&nbsp; Issues with high CPU load caused by PSJ rejecting valid work should also be resolved.<br /><br />If you are going to try it I&#039;d appreciate if you could set the following:<br />debug=true<br />trace=true<br />traceTargets=blockmon<br /><br />If anything odd happens this should give me some useful info to play with.<br /><br /></div><br />100 GHs and looking good!<br />I have everything set except: <br />traceTargets=blockmon<br /><br /><br />I have a good feeling about this one.<br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Jine</b> on <b>November 01, 2011, 03:14:27 PM</b>
					<hr />
					<div style="margin: 0 5ex;">If the connection between MySQL and poolserverj goes down (timeout and/or other reasons), the server having issues with doing reconnects, please read the following error message. <br /><br /><div class="quoteheader">Quote</div><div class="quote">java.sql.BatchUpdateException: The last packet successfully received from the server was 4,664,997 milliseconds ago. &nbsp;The last packet sent successfully to the server was 1,950,645 milliseconds ago. is longer than the server configured value of &#039;wait_timeout&#039;. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property &#039;autoReconnect=true&#039; to avoid this problem.<br /></div><br />How do i set autoReconnect=true?<br /><br />I can increase the timeout on the serverside, but feels kinda non-optional.<br /><br />/ Jim<br /><br /><br />EDIT:<br />This is for the non-MM version.<br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Jine</b> on <b>November 01, 2011, 03:20:41 PM</b>
					<hr />
					<div style="margin: 0 5ex;">Hmm, strange.. noticed the JDBC-url which contains autoReconnect=true.<br />I&#039;m having issues with writing shares to the db so... Get the errormessage above in the log.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>November 01, 2011, 03:21:36 PM</b>
					<hr />
					<div style="margin: 0 5ex;">I could have sworn I&#039;d set that because I&#039;ve seen this problem before. &nbsp;I&#039;ve just changed it as a default setting which will require a full release since it&#039;s buried in once of the support libs... Since yr obviously building from source you can set it in the Conf class.<br /><br />Add the line: <br />workerSql.getJdbcOptionMap().put(&quot;autoReconnect&quot;, &quot;true&quot;);<br /><br />just after:<br />workerSql = new MySql(whost, wport == null ? &quot;3306&quot; : String.valueOf(wport), wschema, wuser, wpassword);<br /><br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>November 01, 2011, 03:23:54 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg602450#msg602450">Quote from: Jine on November 01, 2011, 03:20:41 PM</a></div><div class="quote">Hmm, strange.. noticed the JDBC-url which contains autoReconnect=true.<br />I&#039;m having issues with writing shares to the db so... Get the errormessage above in the log.<br /></div><br />aaahh when I had that issue previously it was with the workerSql connection not the shares one so whatever I changed may have only affected that.&nbsp; Add that same line but where I said &#039;workerSql&#039; use &#039;sharesSql&#039;.<br /><br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Jine</b> on <b>November 01, 2011, 03:28:29 PM</b>
					<hr />
					<div style="margin: 0 5ex;">I&#039;m going to throw that in soon, i restarted PSJ and now I&#039;m getting this error... <br /><br /><div class="quoteheader">Quote</div><div class="quote">Failed to commit to database.<br />java.sql.BatchUpdateException: Field &#039;block_num&#039; doesn&#039;t have a default value<br /><br />Query being executed when exception was thrown:<br />INSERT INTO pool_shares (rem_host, username, our_result, upstream_result, reason, solution, time) VALUES (&#039;213.112.59.222&#039;, &#039;Ly5pv6&#039;, 1, 0, null, &#039;00000001763915294e20 <b>....</b> 000000000080020000&#039;, UNIX_TIMESTAMP(&#039;2011-11-01 16:26:22&#039;))<br /><br /><br /><br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:2024)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.mysql.jdbc.PreparedStatement.executeBatch(PreparedStatement.java:1449)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at org.apache.commons.dbcp.DelegatingStatement.executeBatch(DelegatingStatement.java:297)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at org.apache.commons.dbcp.DelegatingStatement.executeBatch(DelegatingStatement.java:297)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.db.shares.DefaultPreparedStatementSharesDBFlushEngine.<span style="width: 0; margin: 0 -0.6ex 0 -1px;"> </span>flushToDatabase(DefaultPreparedStatementSharesDBFlushEngine.java:127)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.logging.ShareLoggingThread.run(ShareLoggingThread.java:156)<br /></div><br />Any ideas?<br /><br />My config (snippet):<br /><br /><div class="quoteheader">Quote</div><div class="quote">usePushPoolCompatibleFormat=false<br /><br />...<br /><br />db.stmt.insertShare=INSERT INTO pool_shares (rem_host, username, our_result, upstream_result, reason, solution, time) VALUES (?, ?, ?, ?, ?, ?, UNIX_TIMESTAMP(?))</div></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>November 01, 2011, 03:30:42 PM</b>
					<hr />
					<div style="margin: 0 5ex;">block_num column in sample db script is set to &#039;not null&#039;... change it and it should be fine..</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Jine</b> on <b>November 01, 2011, 03:31:59 PM</b>
					<hr />
					<div style="margin: 0 5ex;">Dooooooh! Stupid me, thanks :)</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Jine</b> on <b>November 01, 2011, 04:38:37 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg602457#msg602457">Quote from: shads on November 01, 2011, 03:23:54 PM</a></div><div class="quote"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg602450#msg602450">Quote from: Jine on November 01, 2011, 03:20:41 PM</a></div><div class="quote">Hmm, strange.. noticed the JDBC-url which contains autoReconnect=true.<br />I&#039;m having issues with writing shares to the db so... Get the errormessage above in the log.<br /></div><br />aaahh when I had that issue previously it was with the workerSql connection not the shares one so whatever I changed may have only affected that. &nbsp;Add that same line but where I said &#039;workerSql&#039; use &#039;sharesSql&#039;.<br /><br /><br /></div><br /><div class="quoteheader">Quote</div><div class="quote"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (workerSql != null)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;workerSql.getJdbcOptionMap().put(&quot;autoReconnect&quot;, &quot;true&quot;);<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (sharesSql != null)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sharesSql.getJdbcOptionMap().put(&quot;autoReconnect&quot;, &quot;true&quot;);<br /></div><br />Seems like it&#039;s already there.<br />Does the 0.3.0-FINAL version contain that to? I&#039;m using that for testing now, to avoid any potential issues with my own patches/fixes :)<br /><br />A 0.3.1 version based upon the latest hg would be awesome, as i having a bit of issues with compiling the code from bitbucket. (Have to setup a better development environment)<br /><br />/ Jim</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Jine</b> on <b>November 01, 2011, 04:48:15 PM</b>
					<hr />
					<div style="margin: 0 5ex;">There is something seriously wrong with my setup (MySQL+PSJ), getting all kinds of mysql-issues, this is the latest:<br /><br /><div class="quoteheader">Quote</div><div class="quote">Failed to commit to database.<br />java.sql.BatchUpdateException: Communications link failure<br /><br />The last packet successfully received from the server was 703,780 milliseconds ago.&nbsp; The last packet sent successfully to the server was 9 milliseconds ago.<br /><br />Query being executed when exception was thrown:<br />INSERT INTO pool_shares (rem_host, username, our_result, upstream_result, reason, solution, time) VALUES (&#039;213.112.59.222&#039;, &#039;Ly5pv6&#039;, 1, 0, null, &#039;000000019e4eb299110ef922bf6f3cfe7dbb2c69157066e567b36266000008d200000000340305a<span style="width: 0; margin: 0 -0.6ex 0 -1px;"> </span>3500db5479f929646294649725a231962027d44a503d5f67af87fbdd34eb021d51a0df0ca3c9ee9<span style="width: 0; margin: 0 -0.6ex 0 -1px;"> </span>0200000080000000000000000000000000000000000000000000000000000000000000000000000<span style="width: 0; margin: 0 -0.6ex 0 -1px;"> </span>0000000000080020000&#039;, UNIX_TIMESTAMP(&#039;2011-11-01 17:45:09&#039;))<br /><br /><br />&nbsp; &nbsp; &nbsp; &nbsp; at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:2024)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.mysql.jdbc.PreparedStatement.executeBatch(PreparedStatement.java:1449)<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.apache.commons.dbcp.DelegatingStatement.executeBatch(DelegatingStatement.java:297)<br />&nbsp; &nbsp; &nbsp; &nbsp; at org.apache.commons.dbcp.DelegatingStatement.executeBatch(DelegatingStatement.java:297)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.shadworld.poolserver.db.shares.DefaultPreparedStatementSharesDBFlushEngine.<span style="width: 0; margin: 0 -0.6ex 0 -1px;"> </span>flushToDatabase(DefaultPreparedStatementSharesDBFlushEngine.java:127)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.shadworld.poolserver.logging.ShareLoggingThread.run(ShareLoggingThread.java:156)<br />Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Communications link failure<br /><br />The last packet successfully received from the server was 703,780 milliseconds ago.&nbsp; The last packet sent successfully to the server was 9 milliseconds ago.<br /></div><br />Any ideas? :(</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Jine</b> on <b>November 01, 2011, 05:39:12 PM</b>
					<hr />
					<div style="margin: 0 5ex;">A restart of PSJ solved it, but the issue is kinda strange. The connection between mysql and PSJ seems to break from time to time with 0.3.0-FINAL.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Remember remember the 5th of November</b> on <b>November 01, 2011, 06:33:16 PM</b>
					<hr />
					<div style="margin: 0 5ex;">Does poolserverj have rollntime support?</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Jine</b> on <b>November 01, 2011, 08:37:16 PM</b>
					<hr />
					<div style="margin: 0 5ex;">Yes, it does.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Jine</b> on <b>November 01, 2011, 08:40:07 PM</b>
					<hr />
					<div style="margin: 0 5ex;">I&#039;m still having serious issues with the db-connectivity.<br />Even with miners working against the poolserver, i get this issue.<br /><br /><div class="quoteheader">Quote</div><div class="quote">Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: The last packet successfully received from the server was 8,777,967 milliseconds ago.&nbsp; The last packet sent successfully to the server was 7,665,562 milliseconds ago. is longer than the server configured value of &#039;wait_timeout&#039;. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property &#039;autoReconnect=true&#039; to avoid this problem.<br /></div></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>November 02, 2011, 12:43:06 AM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg602706#msg602706">Quote from: Remember remember the 5th of November on November 01, 2011, 06:33:16 PM</a></div><div class="quote">Does poolserverj have rollntime support?<br /></div><br />It sort of does but not really... Meaning I half implemented it but never finished it.&nbsp; It won&#039;t take much to finish but it will require a fairly extensive testing cycle afterwards.&nbsp; I doubt it will ever support noncerange.&nbsp; Supporting noncerange requires additional overhead for not much gain and with internal work generation about to be released which is orders of magnitude faster than json-rpc getwork, generating work is very cheap and unlikely to ever be a bottleneck again unless one day we have peta-hash pools.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>November 02, 2011, 12:51:08 AM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg602895#msg602895">Quote from: Jine on November 01, 2011, 08:40:07 PM</a></div><div class="quote">I&#039;m still having serious issues with the db-connectivity.<br />Even with miners working against the poolserver, i get this issue.<br /><br /><div class="quoteheader">Quote</div><div class="quote">Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: The last packet successfully received from the server was 8,777,967 milliseconds ago.&nbsp; The last packet sent successfully to the server was 7,665,562 milliseconds ago. is longer than the server configured value of &#039;wait_timeout&#039;. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property &#039;autoReconnect=true&#039; to avoid this problem.<br /></div></div><br />I&#039;ve only seen these sorts of issues twice before.&nbsp; Onces was in a test setup where worker connection was unused for over 24 hours.&nbsp; The other which looked a lot more like the quoted exception was using bulkloader engines but that was kind of a special case.&nbsp; Using LOAD DATA INFILE statements with internal streams masqerading as the the LOCAL file.&nbsp; <br /><br />In any case I&#039;m still a bit baffled.&nbsp; The MySql class checks the state of the connection before using it.&nbsp; i.e. if (conn.isClosed()) prepareConnection();&nbsp; So this should only occur if the server is dropping the connection silently as far as I can tell and if it is then mysql is behaving pretty badly.&nbsp; I will have a look at the code again today just to be sure though.<br /><br />I notice in all these examples the time since last use is very high.&nbsp; Do you have a miner running off the test pool constantly?&nbsp; I wonder if that&#039;s the case if you&#039;re ever likely to see this in production?&nbsp; Aside from the one example above which was a pretty unusual case I&#039;ve never heard any reports of this happening in the field.&nbsp; </div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Jine</b> on <b>November 02, 2011, 08:59:33 AM</b>
					<hr />
					<div style="margin: 0 5ex;">Yes, i do have a miner working at ~6mh or something for testing. (A few shares per hour)<br />I&#039;ll point my 300mh miner against it as soon as i get home later tonight.<br /><br />But still, pretty scary if this would happen in production - no shares are logged in db...<br />A hard restart of PSJ is required to get it up and running again.<br /><br />Then it works for a few shares (at 6mh) and then it goes bad again.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>November 02, 2011, 11:26:28 AM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg603584#msg603584">Quote from: Jine on November 02, 2011, 08:59:33 AM</a></div><div class="quote">But still, pretty scary if this would happen in production - no shares are logged in db...<br />A hard restart of PSJ is required to get it up and running again.<br /></div><br />True... I&#039;m keen to find the source of it but as I said to my knowledge it&#039;s never happened in production.<br /><br />BTW which version are you running?</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Jine</b> on <b>November 02, 2011, 11:56:24 AM</b>
					<hr />
					<div style="margin: 0 5ex;">0.3.0-FINAL, the binary version.<br /><br />I&#039;m struggling to compile from source, any walk-through or similar? Debian Squeeze, apt-get install maven2... then what? :)<br /><br />EDIT:<br />Been playing around with mvn compile/install, installed all libs_non-mvn into my repo, but when i run &quot;mvn compile&quot; in poolserverj-core (which is a dependencie for poolserverj-core) i get this error:<br /><br /><div class="quoteheader">Quote</div><div class="quote">[INFO] ------------------------------------------------------------------------<br />[ERROR] BUILD FAILURE<br />[INFO] ------------------------------------------------------------------------<br />[INFO] Compilation failure<br /><br />/usr/src/bitcoin-poolserverj/poolserverj-core/src/main/java/com/shadworld/poolserver/entity/Worker.java:[70,16] generics are not supported in -source 1.3<br />(use -source 5 or higher to enable generics)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;private HashSet&lt;String&gt; allowedHosts = new HashSet();<br /><br />/usr/src/bitcoin-poolserverj/poolserverj-core/src/main/java/com/shadworld/poolserver/entity/Worker.java:[77,17] for-each loops are not supported in -source 1.3<br />(use -source 5 or higher to enable for-each loops)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;for (String h : allowedHosts) {<br /><br />/usr/src/bitcoin-poolserverj/poolserverj-core/src/main/java/com/shadworld/poolserver/entity/UniquePortionString.java:[47,2] annotations are not supported in -source 1.3<br />(use -source 5 or higher to enable annotations)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;@Override<br /><br />/usr/src/bitcoin-poolserverj/poolserverj-core/src/main/java/com/shadworld/poolserver/entity/FastEqualsSolution.java:[17,2] annotations are not supported in -source 1.3<br />(use -source 5 or higher to enable annotations)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;@Override<br /></div><br />EDIT:<br />Installed poolserverj-core with mvn install:install-file, but I&#039;m running into the same issue with compiling poolserverj-main :/</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>November 05, 2011, 02:23:15 AM</b>
					<hr />
					<div style="margin: 0 5ex;">Sorry I missed this post somehow... Your maven build is set to use java compliance level 1.3&nbsp; I can&#039;t actually recall the setting but you need to declare the compliance level in the pom.xml file.<br /><br />As an alternative I&#039;ve just posted a guide to setting up the project in eclipse.&nbsp; This is not for a maven setup but it&#039;s quickest easiest way to do it.&nbsp; The only disadvantage is that you won&#039;t have attached source for some of the dependencies but unless it&#039;s very rare you need to go into those for debugging.<br /><br />The guide is here:<br />http://poolserverj.org/documentation/guide-to-setting-up-poolserverj-in-eclipse-3-7/<br /><br />If you set it up this way you&#039;ll be able to run poolserverj inside eclipse which will allow you to use all the debug features to follow what&#039;s going on.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>November 05, 2011, 11:20:39 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg602895#msg602895">Quote from: Jine on November 01, 2011, 08:40:07 PM</a></div><div class="quote">I&#039;m still having serious issues with the db-connectivity.<br />Even with miners working against the poolserver, i get this issue.<br /><br /><div class="quoteheader">Quote</div><div class="quote">Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: The last packet successfully received from the server was 8,777,967 milliseconds ago.&nbsp; The last packet sent successfully to the server was 7,665,562 milliseconds ago. is longer than the server configured value of &#039;wait_timeout&#039;. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property &#039;autoReconnect=true&#039; to avoid this problem.<br /></div></div><br />just added handling on the worker db connection to catch connection exceptions and make an attempt to close and reopen connection.&nbsp; Working on the shares connection now but that&#039;s a bit more involved.&nbsp; I figure while I&#039;m there I might as well deal with this feature request:<br />https://bitbucket.org/shadders/bitcoin-poolserverj/issue/10/failed-to-commit-to-database-should-cache<br /><br />When connection fails start serializing shares to disk and recover them and start feeding to DB once connection state is normal again.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Security HOTFIX - PLEASE UPDATE</b><br />
					Post by: <b>shads</b> on <b>November 06, 2011, 05:58:41 AM</b>
					<hr />
					<div style="margin: 0 5ex;">Security HOTFIX - PLEASE UPDATE<br /><br />see this post for details:<br />https://bitcointalk.org/index.php?topic=33142.msg608297#msg608297<br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>ThiagoCMC</b> on <b>November 07, 2011, 02:33:26 AM</b>
					<hr />
					<div style="margin: 0 5ex;">Hi!<br /><br />&nbsp;I just start the PoolServerJ 0.3.1 for the first time, I&#039;m running it with litecoind.<br /><br />&nbsp;I got:<br /><br /><div class="codeheader">Code:</div><div class="code">administrativo@ltcmining1:~/poolserverj-0.3.1/bin$ java -classpath poolserverj.jar:../lib/*:../lib/lib_non-maven/*:../lib/plugins com.shadworld.poolserver.servicelauncher.PoolServerService start ../conf-samples/local-daemon.properties <br />Args - [2]: start ../conf-samples/local-daemon.properties <br />PoolServerJ Service Starting Mon Nov 07 00:22:44 BRST 2011<br />[24:22:44.791] user.dir: /home/administrativo/poolserverj-0.3.1/bin<br />[24:22:44.792] Home path set to: /home/administrativo/poolserverj-0.3.1/bin/poolserverj.jar<br />[24:22:44.793] Home directory set from jar file location to: /home/administrativo/poolserverj-0.3.1<br />[24:22:44.818] Wrote PID: 22092 to pidFile: /home/administrativo/poolserverj-0.3.1/tmp/poolserverj.pid<br />[24:22:44.878] Connecting to DB URL: jdbc:mysql://localhost:3306/poolserverjdb?allowMultiQueries=true&amp;zeroDateTimeBehavior=round&amp;dumpQueriesOnException=true&amp;dumpMetadataOnColumnNotFound=true&amp;useCompression=true&amp;autoReconnect=true<br />[24:22:45.174] Building Shares-DB-flush-engine: DefaultPreparedStatementSharesDBFlushEngine.class with extraParams: &#91;]<br />[24:22:45.175] Building Worker-authentication-engine: WorkerAuthenticator.class with extraParams: null<br />566 [main] INFO org.eclipse.jetty.util.log - jetty-7.4.0.v20110414<br />603 [main] INFO org.eclipse.jetty.util.log - started o.e.j.s.ServletContextHandler{/,null}<br />625 [main] INFO org.eclipse.jetty.util.log - Started SelectChannelConnector@0.0.0.0:8999 STARTING<br />626 [main] INFO org.eclipse.jetty.util.log - jetty-7.4.0.v20110414<br />626 [main] INFO org.eclipse.jetty.util.log - started o.e.j.s.ServletContextHandler{/,null}<br />629 [main] INFO org.eclipse.jetty.util.log - Started SelectChannelConnector@127.0.0.1:8997 STARTING<br />[24:22:45.372] Starting local work source proxy: bitcoind-patch<br />[24:22:45.373] PoolServerJ is open for business<br />[24:22:45.373] DaemonSource[bitcoind-patch] Native longpoll: false verification: true<br />[24:22:45.373] DaemonSource[bitcoind-patch] Native longpoll: false verification: true<br />[24:22:45.373] No native longpoll listeners registered, all sources will fall back to polling mode<br />PoolServerJ Service Started Mon Nov 07 00:22:45 BRST 2011<br />com.google.bitcoin.core.VerificationException: Difficulty target is bad: 43566378659636251172094964077388411969922914778514660462017772519424<br /><span style="white-space: pre;">	</span>at com.google.bitcoin.core.Block.getDifficultyTargetAsInteger(Block.java:231)<br /><span style="white-space: pre;">	</span>at com.shadworld.poolserver.BlockChainTracker.reportDifficultyTarget(BlockChainTracker.java:281)<br /><span style="white-space: pre;">	</span>at com.shadworld.poolserver.source.WorkSource.cacheEntry(WorkSource.java:469)<br /><span style="white-space: pre;">	</span>at com.shadworld.poolserver.source.WorkSource.processSingleWork(WorkSource.java:287)<br /><span style="white-space: pre;">	</span>at com.shadworld.poolserver.source.daemonhandler.DaemonHandler.processSingleResponse(DaemonHandler.java:157)<br /><span style="white-space: pre;">	</span>at com.shadworld.poolserver.source.daemonhandler.SingleWorkExchange.onResponseComplete(SingleWorkExchange.java:35)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.client.HttpExchange$Listener.onResponseComplete(HttpExchange.java:920)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.client.HttpEventListenerWrapper.onResponseComplete(HttpEventListenerWrapper.java:118)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.client.security.SecurityListener.onResponseComplete(SecurityListener.java:251)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.client.HttpExchange.setStatus(HttpExchange.java:263)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.client.HttpConnection$Handler.messageComplete(HttpConnection.java:622)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:828)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:220)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.client.HttpConnection.handle(HttpConnection.java:269)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:515)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:40)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:529)<br /><span style="white-space: pre;">	</span>at java.lang.Thread.run(Thread.java:679)<br />com.google.bitcoin.core.VerificationException: Difficulty target is bad: 43566378659636251172094964077388411969922914778514660462017772519424<br /><span style="white-space: pre;">	</span>at com.google.bitcoin.core.Block.getDifficultyTargetAsInteger(Block.java:231)<br /><span style="white-space: pre;">	</span>at com.shadworld.poolserver.BlockChainTracker.reportDifficultyTarget(BlockChainTracker.java:281)<br /><span style="white-space: pre;">	</span>at com.shadworld.poolserver.source.WorkSource.cacheEntry(WorkSource.java:469)<br /><span style="white-space: pre;">	</span>at com.shadworld.poolserver.source.WorkSource.processSingleWork(WorkSource.java:287)<br /><span style="white-space: pre;">	</span>at com.shadworld.poolserver.source.daemonhandler.DaemonHandler.processSingleResponse(DaemonHandler.java:157)<br /><span style="white-space: pre;">	</span>at com.shadworld.poolserver.source.daemonhandler.SingleWorkExchange.onResponseComplete(SingleWorkExchange.java:35)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.client.HttpExchange$Listener.onResponseComplete(HttpExchange.java:920)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.client.HttpEventListenerWrapper.onResponseComplete(HttpEventListenerWrapper.java:118)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.client.security.SecurityListener.onResponseComplete(SecurityListener.java:251)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.client.HttpExchange.setStatus(HttpExchange.java:263)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.client.HttpConnection$Handler.messageComplete(HttpConnection.java:622)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:828)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:220)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.client.HttpConnection.handle(HttpConnection.java:269)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:515)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:40)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:529)<br /><span style="white-space: pre;">	</span>at java.lang.Thread.run(Thread.java:679)<br />com.google.bitcoin.core.VerificationException: Difficulty target is bad: 43566378659636251172094964077388411969922914778514660462017772519424<br /><span style="white-space: pre;">	</span>at com.google.bitcoin.core.Block.getDifficultyTargetAsInteger(Block.java:231)<br /><span style="white-space: pre;">	</span>at com.shadworld.poolserver.BlockChainTracker.reportDifficultyTarget(BlockChainTracker.java:281)<br /><span style="white-space: pre;">	</span>at com.shadworld.poolserver.source.WorkSource.cacheEntry(WorkSource.java:469)<br /><span style="white-space: pre;">	</span>at com.shadworld.poolserver.source.WorkSource.processSingleWork(WorkSource.java:287)<br /><span style="white-space: pre;">	</span>at com.shadworld.poolserver.source.daemonhandler.DaemonHandler.processSingleResponse(DaemonHandler.java:157)<br /><span style="white-space: pre;">	</span>at com.shadworld.poolserver.source.daemonhandler.SingleWorkExchange.onResponseComplete(SingleWorkExchange.java:35)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.client.HttpExchange$Listener.onResponseComplete(HttpExchange.java:920)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.client.HttpEventListenerWrapper.onResponseComplete(HttpEventListenerWrapper.java:118)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.client.security.SecurityListener.onResponseComplete(SecurityListener.java:251)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.client.HttpExchange.setStatus(HttpExchange.java:263)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.client.HttpConnection$Handler.messageComplete(HttpConnection.java:622)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:828)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:220)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.client.HttpConnection.handle(HttpConnection.java:269)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:515)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:40)<br /><span style="white-space: pre;">	</span>at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:529)<br /><span style="white-space: pre;">	</span>at java.lang.Thread.run(Thread.java:679)<br />com.google.bitcoin.core.VerificationException: Difficulty target is bad: 43566378659636251172094964077388411969922914778514660462017772519424<br /></div><br />&nbsp;This message: &quot;com.google.bitcoin.core.VerificationException: Difficulty target is bad:&quot; is expected?!<br /><br />&nbsp;And, how to enable LongPool?!<br /><br />Thank you guys!<br />Thiago</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>November 07, 2011, 02:43:12 AM</b>
					<hr />
					<div style="margin: 0 5ex;">Well you&#039;re the first person to try it with litecoin to my knowledge...<br /><br />0.3.1 is not SCrypt compatible.&nbsp; You&#039;ll need the merged mining version.<br /><br />Also I seem to recall there&#039;s something odd about litecoin difficulty?&nbsp; Like it can be below 1 or something like that?<br /><br />Can you post the results of a getwork from a litecoind here so I can see what the difficulty bits actually are?</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>ThiagoCMC</b> on <b>November 07, 2011, 02:54:56 AM</b>
					<hr />
					<div style="margin: 0 5ex;">Good to know that I&#039;m the first one!! lol<br /><br />&nbsp;Here we go:<br /><br /><div class="codeheader">Code:</div><div class="code">administrativo@ltcmining1:~$ ./Litecoin/litecoin/src/litecoind getwork<br />{&nbsp; &nbsp;<br />&nbsp; &nbsp; &quot;midstate&quot; : &quot;f2cfc038d83389f1e4e44eb67b4967f4e9c0352a9eb0cacb7cc01e04c84fa039&quot;,<br />&nbsp; &nbsp; &quot;data&quot; : &quot;00000001d8632caadf2260bf42d2067f60d987d6b790562b272653ae611ba0fa67fe1945e3c77cc0b144c2b408614956f4bdcff4ecf1c7f2818beb3e5c6cfd61083be20c4eb747fd1d019db000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000080020000&quot;,<br />&nbsp; &nbsp; &quot;hash1&quot; : &quot;00000000000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000010000&quot;,<br />&nbsp; &nbsp; &quot;target&quot; : &quot;0000000000000000000000000000000000000000000000000000b09d01000000&quot;<br />}<br /></div><br /><div class="codeheader">Code:</div><div class="code">administrativo@ltcmining1:~$ ./Litecoin/litecoin/src/litecoind getdifficulty<br />0.61881515<br /></div><br />&nbsp;Thank you!<br /><br />Best!<br />Thiago</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>November 07, 2011, 02:59:12 AM</b>
					<hr />
					<div style="margin: 0 5ex;">ok yes difficulty is below the minimum allowed.&nbsp; I&#039;ll ask the dev what the minimum constant is and update PSJ.&nbsp; There should be a major release later today or tomorrow so hopefull I&#039;ll get it included in that.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>ThiagoCMC</b> on <b>November 07, 2011, 03:04:54 AM</b>
					<hr />
					<div style="margin: 0 5ex;">WOW! Thank you!!<br /><br />&nbsp;I&#039;m about to start my Litecoin pool, in portuguese for the brazillian people...<br /><br />&nbsp;Would love to use PoolServJ instead of PushPool...<br /><br />Regards,<br />Thiago</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>ThiagoCMC</b> on <b>November 07, 2011, 03:09:19 AM</b>
					<hr />
					<div style="margin: 0 5ex;">And about being SCrypt compatible?!<br />Maybe this can be a major problem?!</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Snapman</b> on <b>November 07, 2011, 03:18:25 AM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg609159#msg609159">Quote from: ThiagoCMC on November 07, 2011, 03:04:54 AM</a></div><div class="quote">WOW! Thank you!!<br /><br />&nbsp;I&#039;m about to start my Litecoin pool, in portuguese for the brazillian people...<br /><br />&nbsp;Would love to use PoolServJ instead of PushPool...<br /><br />Regards,<br />Thiago<br /></div><br />I second that statemment, psj with scrypt compatibility would be extremely helpful for those of us who think &quot;psj 0wnz pp in the face :O&quot;</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Retard</b> on <b>November 10, 2011, 11:25:24 AM</b>
					<hr />
					<div style="margin: 0 5ex;">I would test to install PoolServerJ for merge mining but i have a problem and i dont know why ?<br /><br />Namecoin Client running all Blocks Downloaded version 0.5<br />Bitcoin Client running all Blocks Downloaded version 0.5<br /><br />Ubunut Version 10.11<br />PoolserverJ Version : poolserverj-0.4.0rc2<br />Mysql and all Daemons on the same server <br /><br /><br /><br /><br />but after start i get this <br /><br /><div class="quoteheader">Quote</div><div class="quote">[03:18:03.560] Realm resolved null for key: localhost:8331/ Realm: jsonrpc<br />205349 [shared-httpclient-97] WARN org.eclipse.jetty.util.log - Unknown Security Realm: jsonrpc<br />[03:18:03.560] RETRY<br />[03:18:03.561] getblocknumber response status: 401 for url: http://localhost:8330/<br />[03:18:03.561] getblocknumber response status: 401 for url: http://localhost:8330/<br />[03:18:03.561] Realm resolved null for key: localhost:8331/ Realm: jsonrpc<br />205350 [shared-httpclient-229] WARN org.eclipse.jetty.util.log - Unknown Security Realm: jsonrpc<br />[03:18:03.562] RETRY<br />[03:18:03.562] Realm resolved null for key: localhost:8331/ Realm: jsonrpc<br />205351 [shared-httpclient-125] WARN org.eclipse.jetty.util.log - Unknown Security Realm: jsonrpc<br />[03:18:03.562] RETRY<br />[03:18:03.562] Realm resolved null for key: localhost:8331/ Realm: jsonrpc<br />205352 [shared-httpclient-82] WARN org.eclipse.jetty.util.log - Unknown Security Realm: jsonrpc<br />[03:18:03.563] RETRY<br />[03:18:03.563] getblocknumber response status: 401 for url: http://localhost:8330/<br />210667 [shared-httpclient-19] WARN org.eclipse.jetty.util.log - EXPIRED ContentExchange@1872384842=POST//localhost:8331/#8<br />[03:18:08.879] [WARN] Failed to build auxblock for chain: namecoin<br />java.lang.NullPointerException<br />&nbsp;&nbsp;&nbsp;at com.shadworld.poolserver.source.merged.MergedMiningGroup.buildAuxBlock(MergedMiningGroup.java:262)<br />&nbsp;&nbsp;&nbsp;at com.shadworld.poolserver.source.merged.MergedMiningGroup.updateAuxes(MergedMiningGroup.java:163)<br />&nbsp;&nbsp;&nbsp;at com.shadworld.poolserver.Cleaner.run(Cleaner.java:54)<br />[03:18:08.879] [WARN] Reverting to rpc getauxblock for chain: namecoin<br />[03:18:33.480] getblocknumber response status: 401 for url: http://localhost:8330/<br />[03:18:33.485] Realm resolved null for key: localhost:8331/ Realm: jsonrpc<br />235274 [shared-httpclient-124] WARN org.eclipse.jetty.util.log - Unknown Security Realm: jsonrpc<br />[03:18:33.499] Realm resolved null for key: localhost:8331/ Realm: jsonrpc<br />235288 [shared-httpclient-70] WARN org.eclipse.jetty.util.log - Unknown Security Realm: jsonrpc<br /></div><br />After start that checked all :<br /><br /><div class="quoteheader">Quote</div><div class="quote">[03:45:31.932] Mapped parameter 1 to field 1 (remote_host)<br />[03:45:31.932] Mapped parameter 2 to field 2 (username)<br />[03:45:31.932] Mapped parameter 3 to field 3 (our_result)<br />[03:45:31.932] Mapped parameter 4 to field 4 (upstream_result)<br />[03:45:31.933] Mapped parameter 5 to field 5 (reason)<br />[03:45:31.933] Mapped parameter 6 to field 7 (time)<br />[03:45:31.933] Mapped parameter 7 to field 8 (source)<br />[03:45:31.933] Mapped parameter 8 to field 9 (block_num)<br />[03:45:31.933] Mapped parameter 9 to field 11 (useragent)<br />[03:45:31.935] Building Shares-DB-flush-engine: DefaultPreparedStatementSharesDBFlushEngine.class with extraParams: &#91;]<br />[03:45:31.936] Building Worker-authentication-engine: WorkerAuthenticator.class with extraParams: null<br />[03:45:31.979] Configuring aux daemon for WorkSource: bitcoind-mm<br />[03:45:31.979] Chain name: namecoin<br />[03:45:31.980] Chain id: 1<br />[03:45:31.980] Chain url: http://localhost:8331/<br />[03:45:31.980] Chain username: smart<br />[03:45:31.980] Chain payoutAddress: Mz3Qs4eDoE7USV8sjnCf8aATeHCJAtM5Zp<br />[03:45:31.980] Chain password: s***t<br />^C[03:45:32.343] Shutting down poolserver... <br />[03:45:32.343] Flushing cached shares...<br />[03:45:32.343] Flush shares cache complete...<br />[03:45:32.343] Waiting to complete upstream share submits...<br />[03:45:32.350] Finished upstream submits...<br />[03:45:32.350] Flushing final shares...<br />[03:45:32.365] 0 shares in 1,320,925,568 seconds. Current hashRate: 0 GH/s<br />[03:45:32.365] Submit Throttling on: false<br />[03:45:32.365] All share submits flushed...<br />[03:45:32.366] Waiting for threads to die...<br />[03:45:32.367] Dumping workmap to file: /home/smart/Downloads/poolserverj-0.4.0rc2/tmp/workmap-8332.bin<br />2449 [main] INFO org.eclipse.jetty.util.log - jetty-7.4.0.v20110414<br />2768 [main] INFO org.eclipse.jetty.util.log - started o.e.j.s.ServletContextHandler{/,null}<br />2869 [main] INFO org.eclipse.jetty.util.log - Started SelectChannelConnector@0.0.0.0:8332 STARTING<br />2873 [main] INFO org.eclipse.jetty.util.log - jetty-7.4.0.v20110414<br />2873 [main] INFO org.eclipse.jetty.util.log - started o.e.j.s.ServletContextHandler{/,null}<br />2907 [main] INFO org.eclipse.jetty.util.log - Started SelectChannelConnector@0.0.0.0:8997 STARTING<br />[03:45:32.919] Starting local work source proxy: bitcoind-mm<br /></div><br />whats wrong ? any idea ?<br /><br />i can need help to configure this -.- .... &nbsp;pushpoold works without problems but i need a java version :P<br /><br /><br /><br />best regards<br />Smart</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>cablepair</b> on <b>November 10, 2011, 02:09:33 PM</b>
					<hr />
					<div style="margin: 0 5ex;">ok smart and I have that problem fixed by using the mini binary shads posted<br /><br /><br />Poolserverj is starting now<br /><br />we are getting this message:<br /><br />[06:07:45.255] Exception in Cleaner Thread<br />java.lang.NullPointerException<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.shadworld.poolserver.workmaker.WorkMaker.update(WorkMaker.java:178)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.shadworld.poolserver.source.merged.MergedMiningGroup.updateAuxes(MergedMiningGroup.java:249)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.shadworld.poolserver.Cleaner.run(Cleaner.java:54)<br /><br /><br />and miners cannot connect<br /><br />although sometimes it will say &quot;retriving worker from database&quot;<br /><br />any ideas?</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>November 10, 2011, 02:38:00 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg613239#msg613239">Quote from: cablepair on November 10, 2011, 02:09:33 PM</a></div><div class="quote">ok smart and I have that problem fixed by using the mini binary shads posted<br /><br /><br />Poolserverj is starting now<br /><br />we are getting this message:<br /><br />[06:07:45.255] Exception in Cleaner Thread<br />java.lang.NullPointerException<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.shadworld.poolserver.workmaker.WorkMaker.update(WorkMaker.java:178)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.shadworld.poolserver.source.merged.MergedMiningGroup.updateAuxes(MergedMiningGroup.java:249)<br />&nbsp; &nbsp; &nbsp; &nbsp; at com.shadworld.poolserver.Cleaner.run(Cleaner.java:54)<br /><br /><br />and miners cannot connect<br /><br />although sometimes it will say &quot;retriving worker from database&quot;<br /><br />any ideas?<br /></div><br />see: https://bitcointalk.org/index.php?topic=51226.msg613256#msg613256<br /><br />can people please keep tech support questions specific to the workmaker release in that thread... <br /><br />I&#039;m thinking I might close the other threads and link them all to that one to keep it simple.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Remember remember the 5th of November</b> on <b>November 23, 2011, 02:00:41 PM</b>
					<hr />
					<div style="margin: 0 5ex;">What is the difference between 0.3.X and a Workmaker edition? Also, do i really need the 4diff patch? Cause i am using 0.3.24(I can upgrade if the problem is resolved) on windows, and it would be a pain in the ass to compile Bitcoin(with or without gui) on windows.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>November 23, 2011, 02:10:17 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg628402#msg628402">Quote from: Remember remember the 5th of November on November 23, 2011, 02:00:41 PM</a></div><div class="quote">What is the difference between 0.3.X and a Workmaker edition? Also, do i really need the 4diff patch? Cause i am using 0.3.24(I can upgrade if the problem is resolved) on windows, and it would be a pain in the ass to compile Bitcoin(with or without gui) on windows.<br /></div><br />The differences are all explained here: https://bitcointalk.org/index.php?topic=51226.0<br /><br />It runs with vanilla bitcoin 0.5.0.&nbsp; I&#039;ve seen the rpc thread crash in bitcoind a few times in my test environment but I&#039;ve never heard of it happening in a production environment so it could just be something peculiar to my setup.&nbsp; I do put my poor little bitcoind through some pretty horrible contortions that probably don&#039;t happen on a normal pool setup.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Remember remember the 5th of November</b> on <b>November 23, 2011, 03:43:32 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader">Quote</div><div class="quote">5619 [shared-httpclient-60] WARN org.eclipse.jetty.util.log - Unknown Security Realm: jsonrpc<br />5623 [shared-httpclient-60] WARN org.eclipse.jetty.util.log - Unknown Security Realm: jsonrpc<br />5627 [shared-httpclient-61] WARN org.eclipse.jetty.util.log - Unknown Security Realm: jsonrpc<br />[17:41:28.137] [WARN] Bad HTTP response connecting to auxDaemon http://localhost:8335.&nbsp; Work generated from this AuxInfo will not be valid for chain: namecoin. HTTP response code: 401</div><br /><br />Dunno what is wrong. Using 0.3.24.64 and get that. Password AND username are correct.<br /><br />WorkMaker edition, pushpool compatibility is OFF</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>cablepair</b> on <b>November 27, 2011, 04:26:17 PM</b>
					<hr />
					<div style="margin: 0 5ex;">I created a PoolserverJ tutorial<br /><br />anyone should be able to get PoolServerJ working if they follow this step by step:<br /><br />http://devtome.org/wiki/index.php?title=How_to_Setup_a_Merged_Mining_Bitcoin_Pool_with_PoolServerJ<br /><br />let me know what you think!</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>shads</b> on <b>November 27, 2011, 11:15:26 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg632048#msg632048">Quote from: cablepair on November 27, 2011, 04:26:17 PM</a></div><div class="quote">I created a PoolserverJ tutorial<br /><br />anyone should be able to get PoolServerJ working if they follow this step by step:<br /><br />http://devtome.org/wiki/index.php?title=How_to_Setup_a_Merged_Mining_Bitcoin_Pool_with_PoolServerJ<br /><br />let me know what you think!<br /></div><br />That&#039;s fantastic cablepair!&nbsp; I&#039;ll put a link to it on the PSJ site and in the other thread.&nbsp; <br /><br />My only suggestion is that you point people to download page rather than linking to the specific versions.&nbsp; I leave the old versions on the server so those links will be valid long after the psj version has incremented.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>cablepair</b> on <b>November 28, 2011, 12:02:14 AM</b>
					<hr />
					<div style="margin: 0 5ex;">will do,<br /><br />and thats mostly a rough draft I am polishing it up a bit more<br /><br />Also just want to let you know I started from scratch when testing this tutorial to make sure everything worked the way I laid it out<br /><br />I tested on a old dell with a Pentium 4 1.7 Ghz CPU and 256 mb ram<br /><br />and PoolServerJ is mining on both BTC/NMC networks right now with no problems<br /><br />talk about efficiency!<br />&nbsp;:)</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>pooler</b> on <b>December 01, 2011, 11:55:50 AM</b>
					<hr />
					<div style="margin: 0 5ex;">Any chance PoolServerJ will support difficulties less than 1?<br />I have tried setting it up for Litecoin (current difficulty is about 0.66), but with version 0.4.0rc2 all I get is a bunch of<br /><div class="codeheader">Code:</div><div class="code">com.google.bitcoin.core.VerificationException: Difficulty target is bad: 40474064220290374717375238241067511033434108403022755503819899011072<br /><span style="white-space: pre;">	</span>at com.google.bitcoin.core.Block.getDifficultyTargetAsInteger(Block.java:582)<br /></div></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>doublec</b> on <b>December 01, 2011, 12:33:29 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg632048#msg632048">Quote from: cablepair on November 27, 2011, 04:26:17 PM</a></div><div class="quote">I created a PoolserverJ tutorial<br /></div>Why do the conf files for bitcoin/namecoin in the tutorial specify &quot;rpcallowip=*&quot;. Doesn&#039;t this open the JSON-RPC port of the daemon for anyone to connect to? This gives access to &#039;sendtoaddress&#039; and other commands for sending coins out of the wallet. Or am I missing something?</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>DavinciJ15</b> on <b>December 01, 2011, 12:48:37 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg637005#msg637005">Quote from: doublec on December 01, 2011, 12:33:29 PM</a></div><div class="quote"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg632048#msg632048">Quote from: cablepair on November 27, 2011, 04:26:17 PM</a></div><div class="quote">I created a PoolserverJ tutorial<br /></div>Why do the conf files for bitcoin/namecoin in the tutorial specify &quot;rpcallowip=*&quot;. Doesn&#039;t this open the JSON-RPC port of the daemon for anyone to connect to? This gives access to &#039;sendtoaddress&#039; and other commands for sending coins out of the wallet. Or am I missing something?<br /></div>You are correct DoubleC<br />However I do that but I have a firewall and I open up the port to the IP&#039;s I trust, in other words IP&#039;s I own and control.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>cablepair</b> on <b>December 01, 2011, 02:57:49 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg637005#msg637005">Quote from: doublec on December 01, 2011, 12:33:29 PM</a></div><div class="quote"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg632048#msg632048">Quote from: cablepair on November 27, 2011, 04:26:17 PM</a></div><div class="quote">I created a PoolserverJ tutorial<br /></div>Why do the conf files for bitcoin/namecoin in the tutorial specify &quot;rpcallowip=*&quot;. Doesn&#039;t this open the JSON-RPC port of the daemon for anyone to connect to? This gives access to &#039;sendtoaddress&#039; and other commands for sending coins out of the wallet. Or am I missing something?<br /></div><br />This is an interesting security concern you bring up and very valid. The idea of the tutorial is to be something for people who really have little or no idea what they are doing. It does not seem very plausible however that there are going to be people out there scanning IP addresses for open RPC ports to that may have used my tutorial. I tried to make it as fool proof as possible thus the reason for the *, people have different network setups and I am trying to eliminate needless problems and the possibility that this could turn into an actual security incident seems very remote to me.<br /><br />I am doing some polishing up soon of this tutorial and I will take this in mind. Thank you.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>cablepair</b> on <b>December 01, 2011, 04:26:29 PM</b>
					<hr />
					<div style="margin: 0 5ex;">So I thought about it for a sec and your right about the security issue and in that setup it&#039;s not needed to allow rpcallowip=* anyways. It&#039;s just a habit I got into when helping people to setup pools to skip over needless problems<br /><br />So I finished polishing up the tutorial today<br /><br />http://devtome.org/wiki/index.php?title=How_to_Setup_a_Merged_Mining_Bitcoin_Pool_with_PoolServerJ<br /><br />I also included step by step instructions on how to access the database with phpmyadmin and add a worker.<br /><br />Also if anyone would like to see a public pool in action that I setup check out<br /><br />http://pool.devcoin.org<br /><br />Of course it is for mining devcoins and not Bitcoins.<br /><br /><br /><br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Remember remember the 5th of November</b> on <b>December 01, 2011, 05:43:25 PM</b>
					<hr />
					<div style="margin: 0 5ex;">This still does not answer my problem.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>cablepair</b> on <b>December 01, 2011, 05:45:02 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg628499#msg628499">Quote from: Remember remember the 5th of November on November 23, 2011, 03:43:32 PM</a></div><div class="quote"><div class="quoteheader">Quote</div><div class="quote">5619 [shared-httpclient-60] WARN org.eclipse.jetty.util.log - Unknown Security Realm: jsonrpc<br />5623 [shared-httpclient-60] WARN org.eclipse.jetty.util.log - Unknown Security Realm: jsonrpc<br />5627 [shared-httpclient-61] WARN org.eclipse.jetty.util.log - Unknown Security Realm: jsonrpc<br />[17:41:28.137] [WARN] Bad HTTP response connecting to auxDaemon http://localhost:8335.&nbsp; Work generated from this AuxInfo will not be valid for chain: namecoin. HTTP response code: 401</div><br /><br />Dunno what is wrong. Using 0.3.24.64 and get that. Password AND username are correct.<br /><br />WorkMaker edition, pushpool compatibility is OFF<br /></div><br />why not upgrade?<br /><br />I may be able to help you but I need a little more info<br /><br />do you want to send me your config?<br /><br />send to tom@devcoin.org and I will see if anything pops out at me<br /><br />are you using coinbassing? local work generation? <br /><br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>g2x3k</b> on <b>December 12, 2011, 04:50:34 PM</b>
					<hr />
					<div style="margin: 0 5ex;">have to vote on poolers suggestion it would be nice if worked with diff being lower then 1</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Furyan</b> on <b>December 16, 2011, 04:36:38 PM</b>
					<hr />
					<div style="margin: 0 5ex;">Has anyone added MS SQL support to PoolServerJ?<br /><br />Because it uses JDBC this should be (almost) trivial as MS SQL is fully ODBC 92 compliant, just wondering if anyone&#039;s made the effort to actually write the associated bit of code.<br /><br />I can dive in myself, I&#039;m reasonably proficient in Java but I look to save time where possible :)<br /><br />Also... shads.. you&#039;re outdoing yourself man... I&#039;m very impressed with the built-in coinbasing &amp; work generation now.&nbsp; It eliminates almost all of the custom mods I had made to my version of bitcoind, which lowers my support profile and barrier to upgrades.<br /><br />Really impressed here.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>DavinciJ15</b> on <b>December 16, 2011, 05:21:31 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg652242#msg652242">Quote from: Furyan (Guildminers) on December 16, 2011, 04:36:38 PM</a></div><div class="quote">Has anyone added MS SQL support to PoolServerJ?<br /><br />Because it uses JDBC this should be (almost) trivial as MS SQL is fully ODBC 92 compliant, just wondering if anyone&#039;s made the effort to actually write the associated bit of code.<br /><br />I can dive in myself, I&#039;m reasonably proficient in Java but I look to save time where possible :)<br /><br />Also... shads.. you&#039;re outdoing yourself man... I&#039;m very impressed with the built-in coinbasing &amp; work generation now.&nbsp; It eliminates almost all of the custom mods I had made to my version of bitcoind, which lowers my support profile and barrier to upgrades.<br /><br />Really impressed here.<br /></div>Yes he has done an amazing job.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>mu50stang</b> on <b>January 09, 2012, 09:57:13 PM</b>
					<hr />
					<div style="margin: 0 5ex;">I keep getting this message everyone once in a while.&nbsp; I was wondering what it meant or if it was an issue.<br /><br /><br />5470046 [HttpClient-upstream-work-submit-handler-38] WARN org.eclipse.jetty.util.log - EXPIRED ContentExchange@1769400994=POST//127.0.0.1:8444/#8<br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Remember remember the 5th of November</b> on <b>January 09, 2012, 10:33:54 PM</b>
					<hr />
					<div style="margin: 0 5ex;">I really hope PSJ soon gets completed X extensions.<br /><br />Such as X-rollntime etc.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>DavinciJ15</b> on <b>January 10, 2012, 12:12:53 AM</b>
					<hr />
					<div style="margin: 0 5ex;">Shadders<br /><br />If you are not coming back?</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>cablepair</b> on <b>January 10, 2012, 12:21:55 AM</b>
					<hr />
					<div style="margin: 0 5ex;">ive been wondering the same thing :(</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>mu50stang</b> on <b>January 10, 2012, 02:55:35 AM</b>
					<hr />
					<div style="margin: 0 5ex;">JSON-RPC getmemorypool update failed.<br /><br />Whats happens when I get this error.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>cablepair</b> on <b>January 10, 2012, 03:21:14 AM</b>
					<hr />
					<div style="margin: 0 5ex;">I already told you what happens<br /><br />your running your pool on the same box as Ubuntu xwindows<br /><br />and your actively using xwindows<br /><br />and browsing the web with firefox and all kinds of other crap<br /><br />and its slowing the already less then capable machine down and Bitcoin RPC cant keep up with requests from the Pool<br /><br /><br />I saw all the processes on that machine, you cant expect the pool to operate at full speed when your running it as a workstation computer for web browsing and all kinds of regular use, there are not that many resources available to that machine to begin with - you need them reserved for the pool - running a pool takes a sh1t load of resources dude its not like a regular thing - especially when you are merged mining three different coins<br /><br />running a pool takes a lot of resources and if the machine its on inst super fast it takes a dedicated one at the very least.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Remember remember the 5th of November</b> on <b>January 15, 2012, 05:27:51 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg628499#msg628499">Quote from: Remember remember the 5th of November on November 23, 2011, 03:43:32 PM</a></div><div class="quote"><div class="quoteheader">Quote</div><div class="quote">5619 [shared-httpclient-60] WARN org.eclipse.jetty.util.log - Unknown Security Realm: jsonrpc<br />5623 [shared-httpclient-60] WARN org.eclipse.jetty.util.log - Unknown Security Realm: jsonrpc<br />5627 [shared-httpclient-61] WARN org.eclipse.jetty.util.log - Unknown Security Realm: jsonrpc<br />[17:41:28.137] [WARN] Bad HTTP response connecting to auxDaemon http://localhost:8335. &nbsp;Work generated from this AuxInfo will not be valid for chain: namecoin. HTTP response code: 401</div><br /><br />Dunno what is wrong. Using 0.3.24.64 and get that. Password AND username are correct.<br /><br />WorkMaker edition, pushpool compatibility is OFF<br /></div>Bump. I need to fix this, so please, guys help me. I am on the verge of destroying psj.<br /><br />Thanks to cablepair this is fixed. However, I encountered another problem. After a while PSJ hangs on windows causing Bitcoin-Qt to crash as well.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>cablepair</b> on <b>January 16, 2012, 05:20:18 PM</b>
					<hr />
					<div style="margin: 0 5ex;">ive already addressed this issue<br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Remember remember the 5th of November</b> on <b>January 16, 2012, 08:24:51 PM</b>
					<hr />
					<div style="margin: 0 5ex;">I was browsing on your comments in this thread, and there was nothing about PSJ crashing ?coind. Even namecoind crashed. After trying to restart PSJ via Ctrl+C the threads dont quit so I have to manually kill the java process</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>DavinciJ15</b> on <b>January 16, 2012, 08:48:06 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg695513#msg695513">Quote from: Remember remember the 5th of November on January 16, 2012, 08:24:51 PM</a></div><div class="quote">I was browsing on your comments in this thread, and there was nothing about PSJ crashing ?coind. Even namecoind crashed. After trying to restart PSJ via Ctrl+C the threads dont quit so I have to manually kill the java process<br /></div>It crashes my ?coind I have them set to auto restart.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>cablepair</b> on <b>January 17, 2012, 12:21:01 AM</b>
					<hr />
					<div style="margin: 0 5ex;">yeah<br /><br />the funny thing is the last two times one of my pools crashed bitcoind with poolserverj it was because it solved a block<br /><br />i wish shads would come back and continue developing this...<br /><br />btw:<br /><br />Right now I am merged mining btc/nmc/dvc with poolserverj and attempting to add i0 ad ix later tonight<br /><br />am i the first person to do this? anyone else attempt more than just nmc with psj?</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Remember remember the 5th of November</b> on <b>January 17, 2012, 12:31:02 AM</b>
					<hr />
					<div style="margin: 0 5ex;">Do all the standard precompiled clients of all alt-chains support merged mining? I.e do I need to compile them with mm support? Cause bitcoin has the rpc command getmemorypool, but namecoin does not.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>cablepair</b> on <b>January 17, 2012, 12:34:17 AM</b>
					<hr />
					<div style="margin: 0 5ex;">not all chains do <br /><br />btc/nmc/dvc/i0/ix are officially merged compatible right now, but im sure doublec&#039;s patch could be applied to any of them.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>doublec</b> on <b>January 17, 2012, 01:18:47 AM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg695930#msg695930">Quote from: cablepair on January 17, 2012, 12:34:17 AM</a></div><div class="quote">not all chains do <br /><br />btc/nmc/dvc/i0/ix are officially merged compatible right now, but im sure doublec&#039;s patch could be applied to any of them.<br /></div>btc is only able to be used as a &#039;parent&#039; chain. It can&#039;t be an auxiliary chain. It requires a block chain fork for a chain to be changed to support use as an auxiliary chain.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>cablepair</b> on <b>January 17, 2012, 01:21:02 AM</b>
					<hr />
					<div style="margin: 0 5ex;">i understand that :)<br /><br />my only concern right now is the way poolserverj uses weighting for merged mining <br /><br />im having a bit of a difficult time trying to determine what the best weight is for bitcoin as parent and nmc/dvc/i0/ix as aux<br /><br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>cablepair</b> on <b>January 17, 2012, 06:33:17 PM</b>
					<hr />
					<div style="margin: 0 5ex;">Well I have bad news - and a very good reason why we need shads (or some other very skilled and brilliant coder) to come work on this awesome project!<br /><br />After extensive testing on multiple pools and also getting reports from other pool admins<br /><br />I have come to the conclusion that (although its supposed to) merged mining of more than one aux chain does not work with PSJ at the current time.<br /><br />You can add multiple merged mining aux chains, and you can have everything running pretty with no errors<br />but the only blocks that will ever solve are the parent (bitcoin) and which ever aux chain you declare first.<br /><br />I have tested this on multiple pools with multple aux chains multiple times in multiple different scenarios and I am 100% convinced of this to be true<br /><br />if anyone can prove me wrong I would love to see it but unfortunately I know I am right.<br /><br />I assume since at the time he created PSJ / NMC was the only merged mining compatible aux chain he was not able to actually test if this worked or not.<br /><br />Shads we need you!!<br /><br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>DavinciJ15</b> on <b>January 17, 2012, 07:02:06 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg697061#msg697061">Quote from: cablepair on January 17, 2012, 06:33:17 PM</a></div><div class="quote">Well I have bad news - and a very good reason why we need shads (or some other very skilled and brilliant coder) to come work on this awesome project!<br /><br />After extensive testing on multiple pools and also getting reports from other pool admins<br /><br />I have come to the conclusion that (although its supposed to) merged mining of more than one aux chain does not work with PSJ at the current time.<br /><br />You can add multiple merged mining aux chains, and you can have everything running pretty with no errors<br />but the only blocks that will ever solve are the parent (bitcoin) and which ever aux chain you declare first.<br /><br />I have tested this on multiple pools with multple aux chains multiple times in multiple different scenarios and I am 100% convinced of this to be true<br /><br />if anyone can prove me wrong I would love to see it but unfortunately I know I am right.<br /><br />I assume since at the time he created PSJ / NMC was the only merged mining compatible aux chain he was not able to actually test if this worked or not.<br /><br />Shads we need you!!<br /><br /><br /></div><br />Sorry I did not know you were testing this but Shadders told me it only works for one aux chain.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>cablepair</b> on <b>January 17, 2012, 07:52:11 PM</b>
					<hr />
					<div style="margin: 0 5ex;">Did he say if/when he is going to fix it? This is too good of a project to let die</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>DavinciJ15</b> on <b>January 18, 2012, 12:38:40 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg697178#msg697178">Quote from: cablepair on January 17, 2012, 07:52:11 PM</a></div><div class="quote">Did he say if/when he is going to fix it? This is too good of a project to let die<br /></div>Last time I talked to him was when he posted and said he would be back during the holidays so I don&#039;t know if he is coming back.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>MORA</b> on <b>January 18, 2012, 05:28:55 PM</b>
					<hr />
					<div style="margin: 0 5ex;">Sorry if this may be horribly obvious.<br /><br />I got the poolserver working on litecoin, and added a few clients to it, they were hashing away and getting longpool events.<br /><br />However I dont see shares being logged, neither to DB or file.<br />As I understand, a share is each time cpuminer prints out a stat line, right ?<br />In that case it should have logged a few 100shares, but no errors and no data in the shares file.<br /><br />When starting it, it does say RETRY a few times, but then runs and looks to be working.<br /><br />Any ideas what could be the reason for no log?</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>DavinciJ15</b> on <b>January 18, 2012, 05:33:38 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg699899#msg699899">Quote from: MORA on January 18, 2012, 05:28:55 PM</a></div><div class="quote">Sorry if this may be horribly obvious.<br /><br />I got the poolserver working on litecoin, and added a few clients to it, they were hashing away and getting longpool events.<br /><br />However I dont see shares being logged, neither to DB or file.<br />As I understand, a share is each time cpuminer prints out a stat line, right ?<br />In that case it should have logged a few 100shares, but no errors and no data in the shares file.<br /><br />When starting it, it does say RETRY a few times, but then runs and looks to be working.<br /><br />Any ideas what could be the reason for no log?<br /></div>You did not give PSJ permissions&nbsp; also you need to turn on trace debug in you settings file to see errors on the screen. </div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>MORA</b> on <b>January 18, 2012, 07:46:30 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg699912#msg699912">Quote from: DavinciJ15 on January 18, 2012, 05:33:38 PM</a></div><div class="quote">You did not give PSJ permissions&nbsp; also you need to turn on trace debug in you settings file to see errors on the screen. <br /></div><br />Permissions should be ok, in MySQL I granted it all, and I just tested that I can insert to shares table with same login, also it didnt complain about the user logins, that I created in user table (but then again I didnt check with a user that would fail, dont know if it falls back to no check if theres DB problems).<br /><br />enabling trace=all gives alot of these<br />[20:39:05.159] TRACE[blockmon_firecheck] Sleeping timed block check cycle for source: litecoin-1.litecoin 0ms<br />[20:39:05.169] TRACE[blockmon_firecheck] Firing timed block check for source: litecoin-1.litecoin overdue by 10ms<br /><br />but even with those removed form the log, there does not seem to be any actual errors logged.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>cablepair</b> on <b>January 18, 2012, 08:18:37 PM</b>
					<hr />
					<div style="margin: 0 5ex;">do you import the poolserver.sql tables into your database and make sure the ma mappings are correct in the psj conf?</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>MORA</b> on <b>January 18, 2012, 08:52:53 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg700216#msg700216">Quote from: cablepair on January 18, 2012, 08:18:37 PM</a></div><div class="quote">do you import the poolserver.sql tables into your database and make sure the ma mappings are correct in the psj conf?<br /></div>Imported yes.<br />I didnt change the mappings, but used those in single mine example.<br />I have checked that the fields exist.<br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Retard</b> on <b>January 22, 2012, 06:17:19 PM</b>
					<hr />
					<div style="margin: 0 5ex;">how must it look when the deamons are on a different server?<br /><br />for example<br /><br />Merge Mining<br /><br />Bitcoin // Namecoin server #1 192.168.1.0<br />PoolserverJ #192.168.1.1<br /><br /><div class="codeheader">Code:</div><div class="code">################################################################<br /># &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Includes &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#<br />################################################################<br /><br />### This allows you to include other properties files by including a comma delimited list of filenames.<br />### The path is relative to the location of THIS properties file.<br />###<br />### This may be useful for testing/troubleshooting scenarios allowing you split database config or<br />### any other block of config to a seperate file for easy changes.<br />###<br />### Properties are accumlated and overwritten in order. &nbsp;e.g. if the same property appears in this<br />### file and in one the include files the include property will take precedence.<br />### Included properties files can also use the include property. &nbsp;File are processes by walking the tree<br />### e.g. this file, 1st include file, 1st include file&#039;s include file, 2nd include file.<br />### If you precede the list with a &#039;!&#039; char this will prevent conficts and throw an error if any<br />### included property overwrites one that is already set. &nbsp;Child properties can also set this flag.<br />### prefix with &#039;!!&#039; will force the conflicts flag to be inherited and conflict flags in child properties<br />### will be ignored. &nbsp;You can set the inheritance flag in a child properties file and it will only apply<br />### to children of that properties file.<br /><br />#include=props1/debug.properties<br /><br />################################################################<br /># &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Coinbase Donations &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#<br />################################################################<br /><br />### This option will only work if source.local.1.localWorkGeneration=true<br />### It allows you send a donation as part of the coinbase transaction to the poolserverj developer<br />### or anyone else. &nbsp;You can send multiple donations to different addresses so if you use<br />### an open source front end you may want to consider including them in the donation list.<br />### donationTarget chainName must match the names you&#039;ve given the chains in merged mining setup.<br />### Donations on aux chains are only supported if you have applied the getmemorypool patch to your<br />### aux daemon.<br />###<br />### addressUrl is a URL you can point to obtain a current payout address. &nbsp;The returned format<br />### is simply a json object with a list of keypairs using chainName as key and address as value.<br />### the string &#039;.testnet&#039; is appended to chain name for testnet addresses. e.g.<br />### {&quot;bitcoin&quot;:&quot;1LezqRatQz7MeNoCVziYwcdwtqeEbvrdAq&quot;, &quot;namecoin&quot;:&quot;NFpgM5Ds3o9GwkqEoW5NnGstc2Lw7rHcYa&quot;}<br />### defaultAddress is just a standard bitcoin address which will be used if no dynamic address can be found.<br />###<br />### Payout amount can be calculated several ways and the calculation method is determined by the payout<br />### amount format. &nbsp;Examples:<br />### donationTarget.1.amount=0.15 &nbsp;&lt;-- if you simply put a number this a fixed amount donation in FULL BTC&#039;s NOT SATOSHIS.<br />### donationTarget.1.amount=0.3% &nbsp;&lt;-- appending a &#039;%&#039; will calculate the donation as a percentage of the total block reward including transaction fees<br />### donationTarget.1.amount=0.4%- &lt;-- appending &#039;%-&#039; will calculate the donation as a percentage of the total block reward excluding transaction fees<br />### donationTarget.4.amount=20%t &lt;-- appending &#039;%t&#039; will calculate the donation as a percentage of the transaction fees only.<br />### If for example you wanted to donate a different rate for main block reward and transaction fees you could set up something like this<br />### to payout 0.3% of block reward and 20% of transaction fees:<br />###<br />### donationTarget.1.chainName=bitcoin<br />### donationTarget.1.defaultAddress=1LezqRatQz7MeNoCVziYwcdwtqeEbvrdAq<br />### donationTarget.1.amount=0.3%-<br />### <br />### donationTarget.2.chainName=bitcoin<br />### donationTarget.2.defaultAddress=1LezqRatQz7MeNoCVziYwcdwtqeEbvrdAq<br />### donationTarget.2.amount=20%t<br /><br /><br /><br />################################################################<br /># &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;General Config &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#<br />################################################################<br /><br />### default false<br />#testnet=true<br /><br />### Turns on logging of some additional status messages.<br />debug=true<br /><br />### Turn this off if you don&#039;t need it. &nbsp;It does consume resources even if you&#039;ve got a limited set of traceTargets<br />trace=false<br /><br />### traceTargets enables tracing on particular event groups. &nbsp;traceTarget &#039;all&#039; means what it says. &nbsp;Prepare for a big log file.<br />### Available trace targets are logged by poolserverj on startup. &nbsp;Best to look at that rather look for a list here<br />### as there will probably be new ones added frequently. &nbsp;Look for a line like:<br />### Trace activated, available trace targets: [blockmon, worker_stats, worker_cache, longpoll, blockmon_worksource, all]<br />### You can also prepend a &#039;-&#039; symbol before any trace target to exlude it. &nbsp;If you want to see everything you can set &#039;all&#039;<br />### but if you find a particular tracetarget is spamming the log too much you can get rid of it this way.<br />### comma delimited list<br />traceTargets=<br />### whether to log full stack traces on exceptions or just the exception message. &nbsp;If you&#039;re asking the developer for<br />### help on an exception these are very useful.<br />logStacktraces=true<br />pidFile=tmp/poolserverj.pid<br /><br />### Typically only used for stress testing and benchmarking. &nbsp;Sets difficult to <br />### target that requires only 1-2 hashes to solve a block. &nbsp;This is NOT the same as rewriting difficulty target<br />### to difficulty 1. &nbsp;You will get MASSES of requests if you turn this on with a GPU miner attached to your pool.<br />useEasiestDifficulty=false<br /><br />### Allows you to set alternative proof of work hashing algorithm<br />### Supported algos are: doublesha256, scrypt<br />### default: doublesha256<br />POWalgorithm=doublesha256<br /><br />### This is for beta testing only, this will be deprecated after confirming valid blocks are always<br />### pushed up to a local bitcoin daemon. &nbsp;It will force every share submitted by a miner to be submitted<br />### to the daemon.<br />forceAllSubmitsUpstream=false<br /><br /><br />### default: true. &nbsp;Safe restart cause the server to dump it&#039;s mappings of work to worker to a file on shutdown<br />### and reload them on next startup. &nbsp;This is only relevant if the server is going to be restarted within a couple<br />### of minutes. &nbsp;If the server is started any later than that the map will be discarded after<br />### it is reloaded.<br />### The file is located at tmp/workmap-&lt;listen port&gt;.bin<br />enableSafeRestart=true<br /><br />### currently only HTTP JSON-RPC supported<br />listen.http.json-rpc.port=8999<br />listen.http.json-rpc.path=/<br /><br />################################<br /># &nbsp; &nbsp; &nbsp; &nbsp; Longpolling &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#<br />################################<br /><br />### Please also see long polling options under Work Sources entries<br /><br />listen.longpoll.enable=true<br /><br />### listen.longpoll.http.json-rpc.port=8999 ##deprecated now parsed from listen.longpoll.http.json-rpc.url<br />### pass the full url not just the path<br />### IMPORTANT! &nbsp;longpoll path MUST END WITH A TRAILING SLASH. &nbsp;If it does not it will be added. &nbsp;Java servlets are fussy<br />### about URLs conforming to spec.<br />### Also note that some miners do not handle the X-Long-Polling header properly (e.g. Phoenix). &nbsp;It is supposed<br />### to be able to handle a full URL including port but Phoenix 1.50 for example will poll the new url on the main port even<br />### if a different port is specified so for this reason we recommend using the same port as the main listener.<br /><br />listen.longpoll.http.json-rpc.url=http://localhost:8999/LP<br /><br />### in seconds<br />listen.longpoll.http.json-rpc.timeout=600<br /><br />### If you are having trouble with longpoll spam you can set a limit on LP connections per worker.<br />### connections in excess will not be refused, they will be held open and closed at the end of the block to prevent<br />### retry spam.<br />### The default limit will be applied after the worker is retrieved from the database but only IF it&#039;s value when it returns<br />### = 0 or -1. &nbsp;This allows you to set it from a database column if you want per worker limits.<br />### 0 or -1 = no limit<br />listen.longpoll.defaultMaxLPConnectionsPerWorker = -1<br /><br /><br />#################################<br /># &nbsp; &nbsp; Native Longpolling &nbsp; &nbsp; &nbsp; &nbsp;#<br />#################################<br /><br />### See the native longpolling section under Upstream Sources for more detail.<br />native.longpoll.port=8950<br />### timeout for remote host to send LP string before closing the socket.<br />native.longpoll.timeout=2000<br /><br />################################<br /># &nbsp; &nbsp; &nbsp; DDos Resilience &nbsp; &nbsp; &nbsp; &nbsp;#<br />################################<br /><br />### There are two options for DDos resilience, both provide significant protection against low level DDoS attacks.<br />### They can be enabled individually or together. &nbsp;Each will add a slight overhead to request processing so if you<br />### already have DDoS protection consider disabling.<br />### Note that this protection is at the webserver level. &nbsp;If you are under an attack large enough to clag your<br />### ip stack then the requests may not even be getting this far. &nbsp;Consider using a more low level type protection if<br />### DDoS is a real threat for your pool.<br /><br />### QoS Filter prioritizes incoming requests for authenticated users. &nbsp;It also grants additional priority to those<br />### users that have submitted valid proof of work in the current or previous blocks. &nbsp;This provides some level of<br />### protection against a flood of useless requests.<br /><br />enableQoS=true<br />QoSMaxRequestsToServiceConcurrently=55<br /><br />### DoSFilter provides rate limiting and throttling on a per connection (ip + port) basis. &nbsp;<br />### Adds an additional level of DoS protection against a single client DoS attacks but QoS Filter will probably<br />### be more effective against DDoS.<br />### Update: &nbsp;Real world testing has shown the DoS Filter is more trouble than it&#039;s worth. &nbsp;QoS is a much better option.<br />enableDoSFilter=false<br />DoSFilterMaxRequestsPerSecondBeforeThrottle=10<br /><br />################################<br /># &nbsp; &nbsp; Notifications &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#<br />################################<br /><br />### If set PoolServerJ will send a notification on block change so you know when to process shares<br />### without needing to constantly poll the database.<br />### Currently only method support is httpget - if you can suggest any other push type methods let us know.<br />### get will be sent with params: ?blockchange=true&amp;blockwon=&lt;true|false&gt;&amp;source=&lt;source.name&gt;<br />### This url is not part of PoolServerJ. &nbsp;You can implement a PHP page for example that will react to the call<br />### and do your payment processing cycle.<br /><br />#notify.blockchange.method=httpget<br /><br />### highly recommend this is not a publicly accessible URL or that you at least check the request is from localhost<br />### or you could be open to a DoS by forcing constant payout processing.<br /><br />#notify.blockchange.url=http://localhost:10001/notifyblockchange-downstream<br /><br />### server will probably be flat out for a few seconds after a block change servicing getworks so you may not want<br />### to be doing huge database queries to process payouts straight away.<br />### milliseconds - default 5000<br />notify.blockchange.delay=10000<br /><br />################################<br /># &nbsp; &nbsp; Management Interface &nbsp; &nbsp; #<br />################################<br /><br />### Allows some calls to be issued to server using HTTP GET requests. &nbsp;<br />### Recommended you block this port on your firewall as well but it will ignore all requests unless from an address in <br />### the allowedManagementAddresses property<br />### current functions supported:<br />### flushWorker - removes worker from cache, call this if the worker is changed by your frontend.<br />### e.g. http://localhost:8997/?method=flushWorker&amp;name=myworker<br />### e.g. http://localhost:8997/?method=shutdown<br /><br />enableManagementInterface=true<br />allowShutdownByManagementInterface=true<br /><br />### MUST be different to both listen.http.json-rpc.port and longpoll port<br />managementInterfacePort=8997<br /><br />### Forces mgmt interface to only bind to 127.0.0.1<br />bindManagementInterfaceOnlyToLocahost=true<br />### comma delimited for multiple addresses. &nbsp;This doesn&#039;t affect interface bindings, it is verification after the request is received.<br />### If bindManagementInterfaceOnlyToLocahost=true this won&#039;t work for any addresses other than localhost.<br />### If bindManagementInterfaceOnlyToLocahost=false and you only have localhost as an allowed addres external client can still hit the<br />### interface but will get an unauthorized response.<br />### Wildcards are not supported.<br />allowedManagementAddresses=127.0.0.1,10.1.1.10<br /><br />################################<br /># &nbsp; &nbsp; &nbsp; Memory Management &nbsp; &nbsp; &nbsp;#<br />################################<br /><br />### Sleep interval (in seconds) before checking worker and work caches for expired entries. &nbsp;This may still happen while sleeping as all entries<br />### are checked for expiry conditions whenever they are retrieved.<br />flushCacheInterval=20<br /><br />### In seconds. &nbsp;Period to cache workers in memory to avoid constant hits to the database. &nbsp;You can set this to a long value if you<br />### use the flushworker call (see allowedManagementAddresses)<br />### This also caches unknown usernames to protect against a flood of database hits from unregistered workers.<br />### Note that if this is set to a reasonably long period you pool will be highly resilient to temporary database outages<br />workerCacheExpiry=3600<br /><br />### By default entries in the worker cache are only evicted if they aren&#039;t looked up for longer than workerCacheExpiry<br />### This can potentially mean if a worker is updated from your pool front end the cached entry will remain and the update won&#039;t take.<br />### The management interface method &#039;flushWorker&#039; is provided to ensure the worker cache entry is refreshed in this circumstance and allows<br />### maximum cache performance. &nbsp;If for some reason you are physically or philosophically unable to use this feature you can use this option<br />### to use a fixed time eviction strategy. &nbsp;This will ensure worker entries are refreshed at an interval of workerCacheExpiry.<br />### We don&#039;t recommend this strategy hence the silly name which is a jibe at the pool operator who requested it.<br />### To protect the guilty he shall remain anonymous.<br />###<br />### default: false<br />#useBrokenWorkerCacheEvictionStrategyBecauseImTooLazyToAdjustMyFrontendToUseTheCacheProperly=false<br /><br />### Enforce case sensitivity when looking up workers in the cache. &nbsp;This does not affect DB lookups.<br />### If this is set to true you must ensure you worker DB query uses a case sensitive comparison.<br />### default: false<br />#caseSensitiveWorkerNames=false<br /><br />### When work is issued a unique portion is stored internally in a map. &nbsp;This map can grow very large.<br />### If a worker submits work and it is not in this map an &#039;unknown-work&#039; response will be issued unless<br />### the work is in the previous block&#039;s map in which case a &#039;stale-work&#039; will be issued.<br />### pushpoold has a hardcoded cache timeout of 120 seconds. &nbsp;So it&#039;s reasonable to expect that most miners<br />### will not try to retain work for longer than this period. &nbsp;Shorten it at your peril.<br />### (seconds)<br />maxAgeToMapWorkSource=130<br /><br /><br />################################<br /># &nbsp; &nbsp; &nbsp;X-Mining-Extensions &nbsp; &nbsp; #<br />################################<br /><br />### NOTE: As of v0.4.0rc1 mining extensions are only partially implemented and not functional. <br /><br />### To understand what the different mining extensions do see https://en.bitcoin.it/wiki/Getwork<br /><br />### float. &nbsp;Noncerange is calculated based on hashrate reported by the miner. &nbsp;So to ensure<br />### The range provides enough space that miner doesn&#039;t run out of nonces in 1 second we can<br />### pad the nonce range to allow some headroom.<br />### basically this number is the approximate number of seconds the noncerange should last for<br />### before the miner uses up all the nonce space. &nbsp;If rollNTime is enabled then 2 should be<br />### plenty of headroom. &nbsp;If not then you&#039;ll probably want a much bigger number like 120<br />### so the worker doesn&#039;t need to refresh work for 2 minutes.<br />### set to -1 to disable nonceRange<br />#nonceRangePaddingFactor=20.0<br /><br />### This is the period (in seconds) that the miner is allowed to roll the timestamp of the delivered<br />### work and still have it considered valid when submitted as a share<br />### THIS MUST BE &lt;= maxAgeToMapWorkSource. &nbsp;If it is not then work entries may be deleted from the work map<br />### whilst the miner is still working on it and when it does eventually submit it will receive a &#039;stale&#039;. <br />### It is recommended to set this a few seconds below maxAgeToMapWorkSource.<br />### set to -1 to disable rollNTime<br />#rollNTimeExpire=120<br /><br />################################################################<br /># &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Logging &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #<br />################################################################<br /><br />### Output to logs and to database will be in the same format as pushpool. &nbsp;Use this if you want a drop in replacement for pushpool.<br />### if false you will get some extra data logged including blocknumber and the name of the work source that provided each share.<br />### Note: the database definition will be slightly different for non-compatability mode in the shares table:<br />### &nbsp; &nbsp; time column should be a TIMESTAMP<br />### &nbsp; &nbsp; our_result and upstream result should be a BOOLEAN or INT(1)<br /><br />## ensure db.stmt.insertShare is set to the appropriate INSERT statement<br />usePushPoolCompatibleFormat=false<br /><br />### if path is relative it will be relative to the directory that the runtime jar file<br />### windows users use forward slashes or double backslashes i.e.<br />### C:/pool/log/error.log or C:\\pool\\log\\error.log<br />#errorLogFile=log/error.log<br />#stdOutLogFile=log/out.log<br /><br />### the following two can be commented out if you don&#039;t want file logging. &nbsp;Note though that requests are not logged to database<br />### so this is your only option for if you want to record them.<br />sharesLogFile=log/client-shares.log<br />requestsLogFile=log/client-requests.log<br /><br /><br />################################################################<br /># &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Logging Requests &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#<br />################################################################<br /><br />### don&#039;t cache requests, flush straight to file.<br />request.flushToFilesImmedate=false<br />request.maxRequestsToQueueBeforeCommit=100<br />### seconds<br />request.maxRequestAgeBeforeCommit=10<br />### send requests to stdout<br />requestsToStdout=false<br /><br />################################################################<br /># &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Logging Shares &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#<br />################################################################<br /><br />### flush new shares straight to file. - database logging will still use caching if enabled.<br />shares.flushToFilesImmedate=false<br />### to disable caching and force direct database write set this to 0.<br />shares.maxEntrysToQueueBeforeCommit=500<br />### seconds<br />shares.maxEntryAgeBeforeCommit=10<br />### send shares to stdout<br />sharesToStdout=false<br /><br />################################################################<br /># &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Submitting Shares Upstream &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#<br />################################################################<br /><br />### Hardcoded maximum of 10<br />submit.maxConcurrentSubmitRequests=5<br />### in milliseconds = max 1000<br />submit.minIntervalBetweenHttpRequests=0<br />### max 3<br />submit.maxSubmitRetryOnConnectionFail=3<br /><br />################################################################<br /># &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Database &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#<br />################################################################<br /><br />################################<br /># &nbsp; &nbsp; &nbsp; Custom Engines &nbsp; &nbsp; &nbsp; &nbsp; #<br />################################<br /><br />### if you want to replace the standard engines for authetication with different implementations<br />### you can set these options. &nbsp;You must specify the engines using the fully qualified class name<br />### If specifying a custom engine you provide an engine with specific constructor signature<br />### as the engine are instantiated by reflection.<br />### For more information on custom engines and building your own plugins see:<br />### http://poolserverj.org/documentation/plugin-guide/<br /><br />### This engine manages the fetching of workers from the database (or whereever else you want to<br />### store them.<br />### AnyWorkerFetchEngine is an alternative that does not check the DB, it simply returns a worker<br />### with the supplied username and password.<br />### Required Constructor signature: (String&#91;] extraParams)<br />#db.engine.workerFetch=com.shadworld.poolserver.db.worker.WorkerDBFetchEngine<br /><br />### This allows some extra config of your custom engine. It is a comma delimited list<br />### which will be passed to your constructor as an array of strings (String&#91;] extraParams). &nbsp;An empty<br />### entry in the list i.e. &#039;param1,,param3&#039; will be passed as an empty string<br />### If you require non String arguments you must parse these into the appropriate type in<br />### you constructor. &nbsp;e.g. Integer.parseInt(extraParams[0]);<br />### Sorry no escape char. &nbsp;If you need to use a delimited list as one of your params you&#039;ll need<br />### to use a different delimiter.<br />#db.engine.workerFetch.extraParams=param1,,param3<br /><br />### This engine allows for customised Authentication behaviour. &nbsp;Not really a database engine<br />### but better to keep them all together. <br />### An alternative AnyPasswordWorkerAuthenticator is provided that allows any password.<br />### Required Constructor signature: (WorkerProxy workerProxy, String&#91;] extraParams)<br />#authenticatorEngine=com.shadworld.poolserver.servlet.auth.WorkerAuthenticator<br />### @see comments for #db.engine.workerFetch.extraParams property<br />#authenticatorEngine.extraParams=param1,param2,param3<br /><br />#authenticatorEngine=com.shadworld.poolserver.servlet.auth.AnyPasswordWorkerAuthenticator<br />#authenticatorEngine.extraParams=true,false<br /><br />### This engine handles logging of shares to database (it is separate from file and stdout logging)<br />### An alternative BlackHoleSharesDBEngine is provided to prevent all DB logging.<br />### Required Constructor signature: (ShareLogger shareLogger, String tempFilename, String&#91;] extraParams)<br />#db.engine.shareLogging=com.shadworld.poolserver.db.shares.DefaultPreparedStatementSharesDBFlushEngine<br /><br />### @see comments for #db.engine.workerFetch.extraParams property<br />#db.engine.shareLogging.extraParams=param1,param2<br /><br />### see source code for other available engines<br />#db.engine.shareLogging=com.shadworld.poolserver.db.shares.bulkload.JavaPipesBulkLoader<br />#db.engine.shareLogging=com.shadworld.poolserver.db.shares.bulkload.DirectFifoBulkLoader<br /><br /><br />### Only required for some of the BulkLoader engines that use local fifos or temp files.<br />### See notes in source of those engines for requirements to use these features.<br />#db.engine.shareLogging.tempfile=/tmp/mysql/fifo<br /><br />################################<br /># &nbsp; &nbsp;Database Connections &nbsp; &nbsp; &nbsp;#<br />################################<br /><br />### Shares and Workers operation use two seperate connections internally. &nbsp;By default<br />### these both use the same set of parameters. &nbsp;If you want to use different connections<br />### you specify either some or all connection parameters individually.<br />### The set of parameters that can be set like this are:<br />### db.engine, db.host, db.port, db.name, db.schema, db.file, db.user, db.password, db.url<br />### , db.connectionOptions<br />### To customise a parameter simply add a new property in the following format:<br />### db.shares.schema=shares_schema or db.worker.schema=worker_schema<br />###<br />### The config process will first check for a customised parameter and if not present<br />### will fall back to the standard parameter i.e. db.schema<br />### If you only want to change one you can use the standard parameters for all except the<br />### one that differs. &nbsp;<br /><br />### mysql ###<br />db.engine=mysql<br />db.host=localhost<br /><br />db.schema=test<br />db.port=3306<br />db.user=smart<br />db.password=smart<br />### JDBC connection options. &nbsp;This a comma delimited list of &lt;key&gt;=&lt;value&gt; pairs<br />### these allow you to add arbitrary connection parameters to your database connection.<br />db.connectionOptions=rewriteBatchedStatements=true<br /><br />db.column.username=username<br />db.column.password=password<br />db.column.id=id<br />### this column should contain a comma delimited list of ip addresses or hostnames.<br />### if this property is not set then host validation will be disabled.<br />db.column.allowHosts=allowed_hosts<br /><br />###<br />### Share Logging Query and Column Mapping - ***READ THIS***<br />###<br />### db.stmt.insertShare.columnMapping is how you tell poolserverj which data fields appear in what order in <br />### your SQL statement so it puts the right data in the right fields.<br />### The format is a comma delimited list. &nbsp;Each entry is two numbers separated by a &#039;:&#039;. &nbsp;The first number is the <br />### position where that field appears in your sql statement beginning at number 1, *NOT* 0, for the first column. &nbsp;The second number<br />### is the number from the approriate field in the list below.<br />### Fields can be excluded simply by leaving them out of the list. &nbsp;<br />###<br />### Example: Using the below following query<br />### INSERT INTO shares (username, reason, our_result, upstream_result) VALUES (?, ?, ?, ?)<br />### the mapping would look like this:<br />### db.stmt.insertShare.columnMapping=1:2,2:5,3:3,4:4<br />###<br />### &nbsp;Available fields:<br />###<br />### &nbsp;1 - remote_host - TEXT or VARCHAR<br />### &nbsp;2 - username - TEXT or VARCHAR<br />### &nbsp;3 - our_result = BOOLEAN or INT(1), if pushpoolCompatibility mode: ENUM(Y,N) or TEXT or VARCHAR<br />### &nbsp;4 - upstream_result = BOOLEAN or INT(1), if pushpoolCompatibility mode: ENUM(Y,N) or TEXT or VARCHAR<br />### &nbsp;5 - reason - TEXT or VARCHAR<br />### &nbsp;6 - solution - TEXT or VARCHAR (length 257)<br />### &nbsp;7 - time - TIMESTAMP<br />### &nbsp;8 - source - TEXT or VARCHAR<br />### &nbsp;9 - block_num - INT or TEXT or VARCHAR<br />### &nbsp;10 - prev_block_hash - TEXT or VARCHAR(65) - this is just solution.substring(8, 72) - may be useful for indexing<br />### &nbsp;11 - useragent TEXT or VARCHAR<br />###<br />### &nbsp;12 - 50 reserved<br />###<br />### &nbsp;The following mappings are for partial merged mining results where a submitted data is stale<br />### &nbsp;for some but not all chains. &nbsp;The field type is the same as for our_result<br />### &nbsp;Sha256 chains<br />### &nbsp;51 - our_result_bitcoin<br />### &nbsp;52 - our_result_namecoin<br />### &nbsp;53 - our_result_devcoin<br />### &nbsp;54 - our_result_ixcoin<br />### &nbsp;55 - our_result_i0coin<br />### &nbsp;56 - our_result_geistgeld<br />###<br />### &nbsp;SCrypt chains<br />### &nbsp;151 - our_result_tenebrix<br />### &nbsp;152 - our_result_fairbrix<br />### &nbsp;153 - our_result_litecoin<br />###<br />### If you have more than one local source it is highly recommended to use field 8 (sources) so that when you win a block<br />### you have a way of tracking which wallet to payout your members from.<br />###<br /><br />db.stmt.insertShare=INSERT INTO shares (rem_host, username, our_result, upstream_result, reason, solution, time, source, block_num, our_result_bitcoin, our_result_namecoin, useragent, prev_block_hash,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)<br />db.stmt.insertShare.columnMapping=1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:51,11:52,12:11,13:10,14:12,15:13,16:14,17:15,18:16,19:17,20:18,21:19,22:20,23:21,24:22,25:23,26:24,27:25,28:26,29:27<br /><br /><br />### native example for merged mining with namecoin only as an aux chain - ensure usePushPoolCompatibleFormat=false<br />#db.stmt.insertShare=INSERT INTO shares (rem_host, username, our_result, upstream_result, reason, solution, time, source, block_num, our_result_bitcoin, our_result_namecoin, useragent, prev_block_hash) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)<br />#db.stmt.insertShare.columnMapping=1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:51,11:52,12:11,13:10<br /><br />### native example for non-merged mining setup with &#039;solution&#039; field excluded<br />#db.stmt.insertShare=INSERT INTO shares (rem_host, username, our_result, upstream_result, reason, time, source, block_num, useragent) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)<br />#db.stmt.insertShare.columnMapping=1:1,2:2,3:3,4:4,5:5,6:7,7:8,8:9,9:11<br /><br />### This is your worker select statement. &nbsp;It may not be used if you have a custom WorkerFetcher engine.<br />db.stmt.selectWorker=SELECT * FROM pool_worker WHERE username LIKE ?<br />db.stmt.selectWorkerList=SELECT * FROM pool_worker WHERE id = (?);<br /><br /><br />### postgresql ###<br /><br />#db.engine=postgresql<br />#db.host=localhost<br />#db.name=psj<br />#db.schema=poolserverj_native<br />#db.port=5432<br />#db.user=ps_test<br />#db.password=ps_test<br /><br />### sqlite3 ###<br /><br />#db.engine=sqlite3<br /><br />### For windows file naming convention see comments for errorLogFile property <br />#db.file=sqlite/psj.db<br /><br />#db.stmt.insertShare=<br /><br />#db.stmt.selectWorker=SELECT * FROM pool_worker WHERE username LIKE ?<br /><br />################################################################<br /># &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Upstream Sources &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#<br />################################################################<br /><br /><br />### <br />### These are your sources of work. &nbsp;Local sources are typically bitcoin daemons or WorkMaker internally generated.<br />### <br />### You can have more than one of either type of source. &nbsp;For example your bitcoin daemon may be struggling to keep<br />### up with requests so you can run a 2nd daemon on another machine and use it as a 2nd source to speed up your getwork<br />### delivery. &nbsp;If you are using local work generaration (WorkMaker) then you probably don&#039;t need additional sources.<br />### WorkMaker is at least 10 times faster than rpc in it&#039;s earliest iterations and will like be significantly<br />### faster after some optimization.<br />###<br />### If you do have more than a single source it is recommended<br />### that you add a &#039;source&#039; column to your shares table in your database so you can track which source winning blocks<br />### came from.<br />### <br />### To use multiple sources simply use a different numbered prefix for each of the properties.<br />### i.e. source.local.1.name=local bitcoin daemon1<br />### &nbsp; &nbsp; &nbsp;source.local.2.name=local bitcoin daemon2<br />### Make sure you do this for each of the properties for that source and make sure you give them all unique names<br />### for tracking.<br />### Make sure you read the comment for the source.local.1.weighting property, this explains how work is divided among<br />### sources.<br /><br />#################################################<br /># &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Local Source 1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #<br />#################################################<br /><br />### this just saves you commenting out every parameter if you want to disable a source.<br />#source.local.1.disabled=true<br /><br />### This should be unique. If you are not using pushpool compatability mode for logging then this can be added<br />### to share logs so you can track where the shares are going.<br />source.local.1.name=bitcoind-mm<br />### If local work generation is true poolserverj will use it&#039;s own internal work generation algorithm. &nbsp;<br />### This is far more efficient that using JSON-RPC (at least 10x).<br />### The rpc details are still needed as the bitcoin daemon is used to obtain metadata and also for block change monitoring.<br />### Note that this requires a bitcoin daemon with the getmemorypool patch. &nbsp;This is part of the standard bitcoin client<br />### as of v0.5<br />source.local.1.localWorkGeneration=true<br />### a valid bitcoin address to receive the payout from the coinbase transaction.<br />### this default address is a testnet address and will cause the server to shutdown<br />### if you use it on production. &nbsp;Just to make sure you don&#039;t forget!<br />source.local.1.localWorkGeneration.payoutAddress=1GLSL8GxBU5LY32mZYNg9kF3vXzUs9Supt<br />### If a new transaction arrives with a large fee you may want to trigger an early longpoll<br />### to get miners to include it. &nbsp;This is the threshold since the last longpoll that will<br />### cause a longpoll to trigger (in whole bitcoins).<br />### @not implemented yet<br />source.local.1.localWorkGeneration.txFeeChangeLongpollTrigger=0.1<br /><br />### a short UTF-8 encoded message string that can be added to the end of the coinbase sig script.<br />### This is hard limited to 20 bytes and will be truncated if it is longer.<br />source.local.1.localWorkGeneration.coinbaseMessage=hi from poolserverj<br /><br />### url including port of your bitcoin daemon i.e. http://localhost:8332/<br />source.local.1.url=http://localhost:8332/<br />source.local.1.p2p.hostport=localhost:8373<br />### json-rpc username - for standard bitcoind this is set in bitcoin.conf (rpcuser)<br />source.local.1.username=smart<br />### json-rpc password - for standard bitcoind this is set in bitcoin.conf (rpcpassword)<br />source.local.1.password=smart6202H9rIC8EItrVd3u3Z<br /><br />#######################<br /># &nbsp; &nbsp;Merged Mining &nbsp; &nbsp;#<br />#######################<br /><br />### READ THIS - chain names used in various parts of poolserverj config are not arbitrary.<br />### They are all lowecase and are typically the full name of the chain. &nbsp;<br />### e.g. Bitcoin is &#039;bitcoin&#039; not &#039;btc&#039;. &nbsp;If you use variation the server will throw<br />### and error on startup.<br />### valid chain names as at v0.4.0rc1 are:<br />### &quot;bitcoin&quot;, &quot;namecoin&quot;, &quot;devcoin&quot;, &quot;ixcoin&quot;, &quot;i0coin&quot;, &quot;geistgeld&quot;, &quot;tenebrix&quot;, &quot;fairbrix&quot;, &quot;litecoin&quot;<br /><br />### This parameter should be set EVEN if you are not using merged mining.<br />source.local.1.merged.parentchain=bitcoin<br /><br />### To activate merged mining you need to declare each aux chain.<br />### This is a comma delimited list of all the chains for which you will define parameters<br />### Each of the auxchain parameters must then use that name as part of the prefix.<br />### e.g. using namecoin as an example<br />### source.local.1.merge.chains=namecoin<br />### Now each parameter for that chain must be prefixed with:<br />### source.local.1.merge.namecoin.param=&lt;myparam&gt;<br />### ONLY include aux chains in this list.<br />source.local.1.merged.chains=namecoin<br /><br /><br />### now to define parameters for our named chain &#039;namecoin&#039;<br />source.local.1.merged.namecoin.chainid=1<br />### you MUST have a getmemorypool enabled aux daemon to use<br />### this on the aux chain.<br />#source.local.1.merged.namecoin.localCoinbasing=true<br />source.local.1.merged.namecoin.payoutAddress=Mz3Qs4eDoE7USV8sjnCf8aATeHCJAtM5Zp<br />source.local.1.merged.namecoin.url=http://localhost:8331/<br />source.local.1.merged.namecoin.username=smart<br />source.local.1.merged.namecoin.password=smart<br />### @see source.local.1.localWorkGeneration.txFeeChangeLongpollTrigger<br />### @not implemented yet<br />source.local.1.merged.namecoin.txFeeChangeLongpollTrigger=0.1<br /><br />#######################<br /># &nbsp; /Merged Mining &nbsp; &nbsp;#<br />#######################<br /><br />### Weighting determines how many requests will come from each source.<br />### The approximate percentage of requests serviced but this source is weighting / sum(all weightings) * 100.<br />### e.g. if you have source.local.1.weighting=25 and source.remote.1.weighting=75, 25% of requests will be serviced<br />### by source.local.1<br />source.local.1.weighting=5<br /><br />### this is per source, so don&#039;t go overboard if you&#039;ve got multiple sources or you might clog up your machine with masses of concurrent threads<br />### with a local client testing has shown 10 is a good number. &nbsp;More or Less reduced performance. &nbsp;For high latency connection you may want to try higher.<br />### BUT if the source supports multiget mode you probably don&#039;t want this much higher than 3.<br />### If you are using WorkMaker generation this is the number of concurrent threads dedicated to generating work.<br />### We recommend about 5 threads / virtual core to achieve close to full cpu saturation during getwork cycles.<br />source.local.1.maxConcurrentDownloadRequests=50<br />### no need to go too high since submits are far more rare than requests.<br />source.local.1.maxConcurrentUpstreamSubmits=3<br />### in seconds - age is the time between now and when the work was fetched from the source.<br />source.local.1.maxWorkAgeToFlush=30<br />### in milliseconds = max 1000<br />source.local.1.minIntervalBetweenHttpRequests=0<br />### in milliseconds = max 1000 - alternate value used immediately after a block change<br />source.local.1.minIntervalBetweenHttpRequestsWhenFrantic=0<br />### max works to cache. &nbsp;Server will continually poll upstream until the cache has reached this limit.<br /><br />### as soon as it drops under this number it will start polling again to keep the cache full.<br />### work can be removed from cache either by delivering to a client or by sitting there for longer than<br />### maxWorkAgeToFlush<br />source.local.1.maxCacheSize=500<br />### maximum time in milliseconds to wait for the cache to return work before giving up and returning an error result.<br />source.local.1.cacheWaitTimeout=3000<br /><br />#################################<br /># &nbsp; &nbsp;Block Change Monitoring &nbsp; &nbsp;#<br />#################################<br /><br />### This is the method used to determine when the work source has changed to a new block.<br />### currently poll mode is the only implementation (native coming soon). Poll mode checks<br />### each incoming work for a change of prev_block_hash. &nbsp;If no work has come in for &#039;maxPollInterval&#039;<br />### milliseconds a getblocknumber request is issued instead.<br />### native monitoring is coming soon...<br />### It is recommended if using WorkMaker to poll more frequently as the daemon is only contacted<br />### about once/sec to get new transactions. &nbsp;<br />###<br />### valid values: poll, native_longpoll<br />source.local.1.blockmonitor.mode=poll<br />source.local.1.blockmonitor.maxPollInterval=100<br /><br />#################################<br /># &nbsp; &nbsp; Native Longpolling &nbsp; &nbsp; &nbsp; &nbsp;#<br />#################################<br /><br />### Native longpolling requires considerable extra configuration but can gain some valuable extra <br />### milliseconds between when a new block comes in and when your miners start working on fresh work.<br />### Please see http://poolserverj.org/documentation/configuring-native-longpolling/ for details.<br />source.local.1.longpoll.native.enable=false<br />### Once you are sure native longpolling is working correctly you can disable the fallback verification.<br />### Verifications involve a JSON-RPC call to getblocknumber before firing the blockChange event. So this<br />### will speed up longpoll dispatch by the cost of one rpc roundtrip.<br />source.local.1.longpoll.native.disableVerification=false<br /><br />### this is the password string that should be sent by the other end when notifiying of a block change.<br />source.local.1.longpoll.native.passphrase=my-very-obscure-string<br />### comma delimited string, you may need to include the ipv6 the address as well.<br />source.local.1.longpoll.native.allowedHosts=127.0.0.1,localhost<br /><br />#################################<br /># &nbsp; Local Source Only Config &nbsp; &nbsp;#<br />#################################<br />### The following settings are only relevant to local sources:<br /><br />### allow non getwork requests to be passed through to this source as a proxy.<br />### If true methods allowed are filtered by source.local.1.allowPassthruMethods<br />### getblocknumber is always allowed and returns the latest block number from any source<br />source.local.1.allowJSON-RPCPassthru=false<br /><br />### comma delimited list of method names that are allowed to pass through. &nbsp;<br />### default is none. &nbsp;getwork is always allowed.<br />source.local.1.allowedPassthruMethods=<br /><br />### defaults to min difficulty: ffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000<br />### don&#039;t know why you&#039;d want different difficulty per source but it&#039;s there if you need it.<br />#source.local.1.rewriteDifficultyTarget=ffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000<br /><br />###default true = set to false if you want to PoolServerJ as a proxy for non-pool mining<br />#source.local.1.rewriteDifficulty=false<br /><br /><br />##################################################<br />## &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Local Source 2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #<br />##################################################<br /><br />source.local.2.disabled=true<br /><br />### This should be unique. If you are not using pushpool compatability mode for logging then this will be added<br />### to share logs so you can track where the shares are going.<br />source.local.2.name=bitcoind-local-2<br /><br />### url including port i.e. http://localhost:8332/<br />source.local.2.url=http://localhost:8330/<br />### json-rpc username - for standard bitcoind this is set in bitcoin.conf (rpcuser)<br />source.local.2.username=smart<br />### json-rpc password - for standard bitcoind this is set in bitcoin.conf (rpcpassword)<br />source.local.2.password=smart<br /><br />### Perhaps the most important setting, weighting determines how many requests will come from each source.<br />### The approximate percentage of requests serviced but this source is weighting / sum(all weightings) * 100.<br />### e.g. if you have source.local.1.weighting=25 and source.remote.1.weighting=75, 25% of requests will be serviced<br />### by source.local.1<br />source.local.2.weighting=5<br /><br />### this is per source, so don&#039;t go overboard if you&#039;ve got multiple sources or you might clog up your machine with masses of concurrent threads<br />### with a local client testing has shown 10 is a good number. &nbsp;More or Less reduced performance. &nbsp;For high latency connection you may want to try higher.<br />### BUT if the source supports multiget mode you probably don&#039;t want this much higher than 3.<br />source.local.2.maxConcurrentDownloadRequests=20<br />### no need to go to high since submits are far more rare than requests.<br />source.local.2.maxConcurrentUpstreamSubmits=3<br />### in seconds - age is the time between now and when the work was fetched from the source.<br />source.local.2.maxWorkAgeToFlush=30<br />### in milliseconds = max 1000<br />source.local.2.minIntervalBetweenHttpRequests=0<br />### in milliseconds = max 1000 - alternate value used immediately after a block change<br />source.local.2.minIntervalBetweenHttpRequestsWhenFrantic=0<br />### max works to cache. &nbsp;Server will continually poll upstream until the cache has reached this limit.<br />### as soon as it drops under this number it will start polling again to keep the cache full.<br />### work can be removed from cache either by delivering to a client or by sitting there for longer than<br />### maxWorkAgeToFlush<br />source.local.2.maxCacheSize=100<br />### maximum time in milliseconds to wait for the cache to return work before giving up and returning an error result.<br />source.local.2.cacheWaitTimeout=30000<br /><br />### The following settings are only relevant to local sources:<br /><br />### allow non getwork requests to be passed through to this source as a proxy.<br />### If true methods allowed are filtered by source.local.1.allowPassthruMethods<br />### getblocknumber is always allowed and returns the latest block number from any source<br />source.local.2.allowJSON-RPCPassthru=false<br /><br />### comma delimited list of method names that are allowed to pass through. &nbsp;<br />source.local.2.allowedPassthruMethods=<br /><br />### defaults to min difficulty: ffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000<br />### don&#039;t know why you&#039;d want different difficulty per source but it&#039;s there if you need it.<br />#source.local.2.rewriteDifficultyTarget=ffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000<br /><br />###default true = set to false if you want to PoolServerJ as a proxy for non-pool mining<br />#source.local.2.rewriteDifficulty=false<br /><br /><br /><br /></div><br />Any Idea ?<br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>50BTC.com</b> on <b>February 02, 2012, 05:23:10 PM</b>
					<hr />
					<div style="margin: 0 5ex;">We are evaluating PoolServerJ for our mining pool, 50btc.com, as replacement for pushpoold. There are few problems we have encountered during testing; can anyone help with them?<br /><br />We are running Scientific Linux 6.1, java version java-1.6.0-openjdk-1.6.0.0-1.40.1.9.10, poolserverj 0.4.0rc7 (rc2 + rc7 patch), stock bitcoind 0.5.2.<br /><br />First problem is that currently PoolServerJ doesn&#039;t support postgresql properly. For example, with settings<br /><div class="codeheader">Code:</div><div class="code">db.engine=postgresql<br />db.host=dbserver<br />db.name=pool<br />db.schema=public<br />db.port=5432<br />db.user=pooluser<br />db.password=pass<br /></div>It incorrectly forms connectiong string, it prints<br />[20:54:18.678] Connecting to DB URL: jdbc:postgresql:pool//dbserver:5432/public?autoReconnect=true<br />and then always connects to localhost, not &quot;dbserver&quot;<br /><br />If I understand correctly, specifying connection string in jdbc:postgresql:&lt;database&gt; form can be used only for localhost connections, according to documentation http://jdbc.postgresql.org/documentation/80/connect.html (http://jdbc.postgresql.org/documentation/80/connect.html). So jdbc happily ignores dbserver and port, which makes poolserverj connect only to localhost.<br /><br />We wouldn&#039;t mind to fix that issue, but there are no sources for this part of server (shadtools-sql), even in source repository there is only binary .jar. Therefore, we really can&#039;t do anything. Currently, for testing we have installed redirecting proxy for postgresql which forwards requests from localhost to real database server, but for production it would be nice to fix that issue properly. This problem is present both in 0.4.0 and git version.<br /><br />Second problem is that we want users to authorize with any password, as long as they are registered on pool. There is auth engine called AnyPasswordWorkerAuthenticator which supposed to do the trick, but it doesn&#039;t do as advertised. Namely, it does allow to log in with any password, but not without password - when logging in with username only (we tried guiminer+poclbm and minerd) it still returns &quot;401 Unauthorized&quot;. Of course, it&#039;s set up as it&#039;s supposed to<br /><br /><div class="codeheader">Code:</div><div class="code">authenticatorEngine=com.shadworld.poolserver.servlet.auth.AnyPasswordWorkerAuthenticator<br />authenticatorEngine.extraParams=true, false</div><br />and I have looked at its simple code a few times but still can&#039;t figure out why it won&#039;t allow empty password. Could it be that there is a bug in other code which rejects empty password before it&#039;s processed by AnyPasswordWorkerAuthenticator?<br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>EnergyVampire</b> on <b>February 07, 2012, 07:48:21 AM</b>
					<hr />
					<div style="margin: 0 5ex;">Hello, I get this error<br /><br /><div class="codeheader">Code:</div><div class="code">Exception in thread &quot;block-chain-tracker&quot; java.lang.NullPointerException<br /><span style="white-space: pre;">	</span>at com.shadworld.poolserver.source.daemonhandler.JsonRpcDaemonHandler.doBlockCheck(JsonRpcDaemonHandler.java:83)<br /><span style="white-space: pre;">	</span>at com.shadworld.poolserver.BlockChainTracker.fireBlockCheck(BlockChainTracker.java:453)<br /><span style="white-space: pre;">	</span>at com.shadworld.poolserver.BlockChainTracker.run(BlockChainTracker.java:485)</div><br />when starting up.<br /><br />Using: poolserverj-0.4.0rc2</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Remember remember the 5th of November</b> on <b>February 15, 2012, 07:11:07 PM</b>
					<hr />
					<div style="margin: 0 5ex;">Even though I do <br /><br /><div class="quoteheader">Quote</div><div class="quote">source.local.1.rewriteDifficultyTarget=0000000000000000000000000000000000000000000000000000333300000000<br /><br />###default true = set to false if you want to PoolServerJ as a proxy for non-pool mining<br />source.local.1.rewriteDifficulty=false</div><br />or even<br /><br /><div class="quoteheader">Quote</div><div class="quote">source.local.1.rewriteDifficultyTarget=0000000000000000000000000000000000000000000000000000333300000000<br /><br />###default true = set to false if you want to PoolServerJ as a proxy for non-pool mining<br />source.local.1.rewriteDifficulty=true</div><br />The difficulty is NOT rewritten. It stays at it&#039;s default state</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>12gaFacelift</b> on <b>February 23, 2012, 12:18:14 AM</b>
					<hr />
					<div style="margin: 0 5ex;">Someone to install PoolServerJ + Frontend : Win xp - xamp server . first to test and if its working then another box can be used to go public. PM me<br /><br />thx</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>mich</b> on <b>February 29, 2012, 10:43:50 AM</b>
					<hr />
					<div style="margin: 0 5ex;">With merged mining poolserverj writes &#039;upstream_result&#039; for bitcoin only? How to catch namecoin&#039;s upstream_result?</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>cablepair</b> on <b>February 29, 2012, 11:55:25 AM</b>
					<hr />
					<div style="margin: 0 5ex;">its in there you just have to change the table section of the config to how you want it to report to your database</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>mich</b> on <b>February 29, 2012, 01:13:01 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg775129#msg775129">Quote from: cablepair on February 29, 2012, 11:55:25 AM</a></div><div class="quote">its in there you just have to change the table section of the config to how you want it to report to your database<br /></div>You mean &#039;our_result_bitcoin&#039; and &#039;our_result_namecoin&#039;? But these columns is our markers - accepted or rejected shares, and I asking about markers of winning shares. Something like <b>upstream_result_bitcoin</b> and <b>upstream_result_namecoin</b>.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>mich</b> on <b>March 01, 2012, 10:40:54 AM</b>
					<hr />
					<div style="margin: 0 5ex;">nobody knows?</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>mich</b> on <b>March 12, 2012, 10:00:58 AM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="codeheader">Code:</div><div class="code">4153182 [HttpClient-upstream-work-submit-handler-38] WARN org.eclipse.jetty.util.log - EXPIRED ContentExchange@1175760389=POST//127.0.0.1:8332/#8<br />[13:54:06.686] JSON-RPC getmemorypool update failed.</div><br />How to fix it?</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>cablepair</b> on <b>March 12, 2012, 08:08:15 PM</b>
					<hr />
					<div style="margin: 0 5ex;">that means its not connecting to bitcoind<br /><br />is this happening all the time or just temporarily when you first start up?<br /><br />because if its not happening all the time I would not worry about it<br /><br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>mich</b> on <b>March 13, 2012, 03:11:25 AM</b>
					<hr />
					<div style="margin: 0 5ex;">Not every time, random from 5 to 30 min. And when it happens phoenix miner disconnect, then connect back in few seconds.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Internet151</b> on <b>May 12, 2012, 02:18:57 AM</b>
					<hr />
					<div style="margin: 0 5ex;">Has anyone gotten this to work under Windows and Bitcoin-qt 0.6+?</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>maxcarjuzaa</b> on <b>June 04, 2012, 12:38:42 AM</b>
					<hr />
					<div style="margin: 0 5ex;">Hi I am running poolserverj with litecoind.<br /><br />In order to test it I am running one miner (minerd) , but it had not solve any shares yet and if I connect it to my usual pool I get a share every 10 seconds or so. Do I miss any configuration? Do you have any idea?<br /><br />Thank you.<br />Max</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>cablepair</b> on <b>June 05, 2012, 07:02:34 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg939344#msg939344">Quote from: maxcarjuzaa on June 04, 2012, 12:38:42 AM</a></div><div class="quote">Hi I am running poolserverj with litecoind.<br /><br />In order to test it I am running one miner (minerd) , but it had not solve any shares yet and if I connect it to my usual pool I get a share every 10 seconds or so. Do I miss any configuration? Do you have any idea?<br /><br />Thank you.<br />Max<br /></div><br />If memory serves , I dont think lite coin compatibity was ever actually achieved </div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Flowz</b> on <b>July 06, 2012, 11:52:38 AM</b>
					<hr />
					<div style="margin: 0 5ex;">Hi,<br />I&#039;m currently running PoolServerJ, and it working out great!<br />Getting 23Gh/s!<br /><br />There is only one thing that concerns me a lot.<br />I&#039;ve been getting a lot of &#039;Broken Pipe&#039;, &#039;EofException&#039; and &#039;connection refused&#039; errors, with a lot I mean non-stop outputting those exceptions. Everything is still working though, I just wonder why those exception are poping up in such a giant number. <br /><br />~ Flowz</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Flowz</b> on <b>July 06, 2012, 06:13:55 PM</b>
					<hr />
					<div style="margin: 0 5ex;">Furthermore I would like to point out that,<br />I get a error which bugs down the whole system: <br />java.lang.OutOfMemoryError: GC overhead limit exceeded<br /><br />Temporary solution:<br />-XX:-UseGCOverheadLimit<br /><br />(This means it won&#039;t look if the garbage collector is like using 98% of the CPU or not, which wil decrease the pool performance a lot I think)<br /><br />Or I could increase the max heap size:<br />-Xmx1g<br /><br />I have 8gig of RAM memory, what is the best heap size for that server?<br /><br />~ Flowz</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>mich</b> on <b>July 27, 2012, 04:55:45 PM</b>
					<hr />
					<div style="margin: 0 5ex;">How to setup log rotation for poolserverj&#039;s log files? (by logrotate)</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Bit LC Inc.</b> on <b>September 18, 2012, 03:56:21 PM</b>
					<hr />
					<div style="margin: 0 5ex;">WARNING: With the 0.7.0 release of bitcoind - getmemorypool is removed, which cases the internal work-generation to fail.<br />Patches for poolserverj needed.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Lomax42</b> on <b>September 21, 2012, 06:18:24 AM</b>
					<hr />
					<div style="margin: 0 5ex;">Can I get the source code (Mini Http Proxy mini-proxy.tar.gz) would like to add there a separate authorization! powernet34@gmail.com Thank you!</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>OgStar</b> on <b>October 04, 2012, 10:58:26 AM</b>
					<hr />
					<div style="margin: 0 5ex;">Can anyone tell me which bitcoin daemon version is the best for PoolServerJ?<br /><br />I know 0.7 won&#039;t work, but will anything below it work? Because I&#039;m trying to figure out the reasons of some bugs I&#039;ve been getting.<br /><br />And what about namecoind? What are the patches that it needs to make getmemorypool work with it, and where to find it?<br /><br />Thank you!</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Flowz</b> on <b>October 12, 2012, 06:34:41 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg1244327#msg1244327">Quote from: OgStar on October 04, 2012, 10:58:26 AM</a></div><div class="quote">Can anyone tell me which bitcoin daemon version is the best for PoolServerJ?<br /><br />I know 0.7 won&#039;t work, but will anything below it work? Because I&#039;m trying to figure out the reasons of some bugs I&#039;ve been getting.<br /><br />And what about namecoind? What are the patches that it needs to make getmemorypool work with it, and where to find it?<br /><br />Thank you!<br /></div>Since nobody has answered I&#039;ll reply back to you.<br /><br />As far as I know, from a performance point of view, the 4diff patched bitcoind is the best way to go.<br /><br />http://poolserverj.org/documentation/performance-memory-tuning/<br /><br />https://github.com/bitcoin/bitcoin/pull/426<br /><br />The last patch I remember coming out was a beta patch 4diff with a 0.5.<br /><br />Kind regards,<br />Flowz<br /><br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>sippsnapp</b> on <b>October 30, 2012, 02:52:07 PM</b>
					<hr />
					<div style="margin: 0 5ex;">Anybody here who can tell me what am i doing wrong?<br /><br /><div class="codeheader">Code:</div><div class="code">root@j064:/opt/poolserverj-0.4.0rc2/bin# java -classpath poolserverj.jar:../lib/*:../lib/lib_non-maven/*:../lib/plugins com.shadworld.poolserver.servicelauncher.PoolServerService start ../conf/poolserverj.conf<br />Args - [2]: start ../conf/poolserverj.conf<br />PoolServerJ Service Starting Tue Oct 30 14:46:55 UTC 2012<br />[14:46:56.054] Starting PoolServerJ v0.4.0-WM-b233-c-d5e730c5756c<br />[14:46:56.055] user.dir: /opt/poolserverj-0.4.0rc2/bin<br />[14:46:56.055] Home path set to: /opt/poolserverj-0.4.0rc2/bin/poolserverj.jar<br />[14:46:56.055] Home directory set from jar file location to: /opt/poolserverj-0.4.0rc2<br />[14:46:56.059] Sever is set to testnet: false<br />[14:46:56.066] Adding donation target: chainName: namecoin donationAmount: 0.3 calc method: [% of total] addressUrl: http://poolserverj.org/meta/donations/ address: NFja75nNRHZYKtN9YQ6wHPQdmhzBEAmTAt<br />[14:46:56.067] Adding donation target: chainName: bitcoin donationAmount: 0.3 calc method: [% of total] addressUrl: http://poolserverj.org/meta/donations/ address: 1LezqRatQz7MeNoCVziYwcdwtqeEbvrdAq<br />[14:46:56.071] Wrote PID: 22107 to pidFile: /opt/poolserverj-0.4.0rc2/tmp/poolserverj.pid<br />[14:46:56.101] Connecting to DB URL: jdbc:mysql://127.0.0.1:3306/poolserverj_native?allowMultiQueries=true&amp;zeroDateTimeBehavior=round&amp;dumpQueriesOnException=true&amp;dumpMetadataOnColumnNotFound=true&amp;useCompression=true&amp;autoReconnect=true&amp;rewriteBatchedStatements=true<br />[14:46:56.288] Mapped parameter 1 to field 1 (remote_host)<br />[14:46:56.288] Mapped parameter 2 to field 2 (username)<br />[14:46:56.289] Mapped parameter 3 to field 3 (our_result)<br />[14:46:56.289] Mapped parameter 4 to field 4 (upstream_result)<br />[14:46:56.289] Mapped parameter 5 to field 5 (reason)<br />[14:46:56.289] Mapped parameter 6 to field 7 (time)<br />[14:46:56.289] Mapped parameter 7 to field 8 (source)<br />[14:46:56.289] Mapped parameter 8 to field 9 (block_num)<br />[14:46:56.289] Mapped parameter 9 to field 11 (useragent)<br />[14:46:56.290] Building Shares-DB-flush-engine: DefaultPreparedStatementSharesDBFlushEngine.class with extraParams: &#91;]<br />[14:46:56.291] Building Worker-authentication-engine: WorkerAuthenticator.class with extraParams: null<br />[14:46:56.302] Configuring aux daemon for WorkSource: bitcoind-mm<br />[14:46:56.302] Chain name: namecoin<br />[14:46:56.302] Chain id: 1<br />[14:46:56.302] Chain url: http://127.0.0.1:7334/<br />[14:46:56.303] Chain username: noobtub3ndsafu<br />[14:46:56.303] Chain payoutAddress: N15ThaRx21TjWsDdex4TuUPywMSts4iXM3<br />[14:46:56.303] Chain password: 9*****************************1<br />530 [main] INFO org.eclipse.jetty.util.log - jetty-7.4.0.v20110414<br />547 [main] INFO org.eclipse.jetty.util.log - started o.e.j.s.ServletContextHandler{/,null}<br />585 [main] INFO org.eclipse.jetty.util.log - Started SelectChannelConnector@0.0.0.0:8999 STARTING<br />586 [main] INFO org.eclipse.jetty.util.log - jetty-7.4.0.v20110414<br />586 [main] INFO org.eclipse.jetty.util.log - started o.e.j.s.ServletContextHandler{/,null}<br />589 [main] INFO org.eclipse.jetty.util.log - Started SelectChannelConnector@127.0.0.1:8997 STARTING<br />[14:46:56.447] Starting local work source proxy: bitcoind-mm<br />[14:46:56.508] RETRY<br />[14:46:56.508] RETRY<br />[14:46:56.515] RETRY<br />[14:46:56.516] RETRY<br />[14:46:56.518] New Block detected [81555] from source: DaemonSource[bitcoind-mm].namecoin - 0 lagging sources.<br />[14:46:56.518] New Block detected [205718] from source: DaemonSource[bitcoind-mm].bitcoin - 0 lagging sources.<br />[14:46:56.518] Restoring workmap from file: /opt/poolserverj-0.4.0rc2/tmp/workmap-8999.bin<br />[14:46:56.806] Updating donation target address for chain: namecoin Address: NFja75nNRHZYKtN9YQ6wHPQdmhzBEAmTAt<br />[14:46:56.912] Updating donation target address for chain: bitcoin Address: 1Lk8f18EyPB3uAJvgTeHgzCVkKY9njQ5bA<br />[14:47:06.548] Exception in Cleaner Thread<br />java.lang.RuntimeException: Waited 5 seconds for client provider to be set but it hasn&#039;t. &nbsp;This would indicate a problem with your client configuration.<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.workmaker.WorkMaker.update(WorkMaker.java:184)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.source.merged.MergedMiningGroup.updateAuxes(MergedMiningGroup.java:249)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.Cleaner.run(Cleaner.java:54)<br />java.io.IOException: Socket is disconnected<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.google.bitcoin.core.BitcoinSerializer.seekPastMagicBytes(BitcoinSerializer.java:347)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.google.bitcoin.core.BitcoinSerializer.deserialize(BitcoinSerializer.java:216)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.google.bitcoin.core.NetworkConnection.readMessage(NetworkConnection.java:170)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.google.bitcoin.core.NetworkConnection.&lt;init&gt;(NetworkConnection.java:96)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.bitcoin.p2p.BitcoinDualConnection.startListener(BitcoinDualConnection.java:93)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.bitcoin.p2p.BitcoinDualConnection.start(BitcoinDualConnection.java:47)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.source.merged.JsonRpcMergeMiningLocalWorkMakerDaemonHandler.start(JsonRpcMergeMiningLocalWorkMakerDaemonHandler.java:159)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.source.WorkSource.start(WorkSource.java:154)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.WorkProxy.start(WorkProxy.java:914)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.PoolServer.start(PoolServer.java:262)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.servicelauncher.PoolServerService.start(PoolServerService.java:99)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.servicelauncher.PoolServerService.windowsService(PoolServerService.java:58)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.servicelauncher.PoolServerService.main(PoolServerService.java:28)<br />[14:47:57.033] This error may indicate your bitcoin daemon was not contactable. Check it is running and you have entered the correct host:port for the bitcoin protocol interface NOT the json-rpc interface.<br />java.lang.NullPointerException<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.bitcoin.p2p.BitcoinDualConnection.shutdown(BitcoinDualConnection.java:133)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.bitcoin.p2p.BitcoinDualConnection.startListener(BitcoinDualConnection.java:98)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.bitcoin.p2p.BitcoinDualConnection.start(BitcoinDualConnection.java:47)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.source.merged.JsonRpcMergeMiningLocalWorkMakerDaemonHandler.start(JsonRpcMergeMiningLocalWorkMakerDaemonHandler.java:159)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.source.WorkSource.start(WorkSource.java:154)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.WorkProxy.start(WorkProxy.java:914)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.PoolServer.start(PoolServer.java:262)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.servicelauncher.PoolServerService.start(PoolServerService.java:99)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.servicelauncher.PoolServerService.windowsService(PoolServerService.java:58)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.servicelauncher.PoolServerService.main(PoolServerService.java:28)<br />[14:47:57.034] This error may indicate your bitcoin daemon was not contactable. Check it is running and you have entered the correct host:port for the bitcoin protocol interface NOT the json-rpc interface.<br />java.lang.NullPointerException<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.bitcoin.p2p.BitcoinDualConnection.shutdown(BitcoinDualConnection.java:141)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.bitcoin.p2p.BitcoinDualConnection.startListener(BitcoinDualConnection.java:98)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.bitcoin.p2p.BitcoinDualConnection.start(BitcoinDualConnection.java:47)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.source.merged.JsonRpcMergeMiningLocalWorkMakerDaemonHandler.start(JsonRpcMergeMiningLocalWorkMakerDaemonHandler.java:159)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.source.WorkSource.start(WorkSource.java:154)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.WorkProxy.start(WorkProxy.java:914)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.PoolServer.start(PoolServer.java:262)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.servicelauncher.PoolServerService.start(PoolServerService.java:99)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.servicelauncher.PoolServerService.windowsService(PoolServerService.java:58)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.servicelauncher.PoolServerService.main(PoolServerService.java:28)<br />^C73102 [Thread-0] INFO org.eclipse.jetty.util.log - Graceful shutdown SelectChannelConnector@0.0.0.0:8999 STARTED<br />[14:48:08.960] Shutting down poolserver...<br />[14:48:08.960] Flushing cached shares...<br />[14:48:08.960] Flush shares cache complete...<br />[14:48:08.961] Waiting to complete upstream share submits...<br />[14:48:08.961] Finished upstream submits...<br />[14:48:08.961] Flushing final shares...<br />[14:48:08.962] 0 shares in 1,351,608,448 seconds. Current hashRate: 0 GH/s<br />[14:48:08.962] Submit Throttling on: false<br />[14:48:08.962] All share submits flushed...<br />[14:48:08.962] Waiting for threads to die...<br />[14:48:08.963] This error may indicate your bitcoin daemon was not contactable. Check it is running and you have entered the correct host:port for the bitcoin protocol interface NOT the json-rpc interface.<br />java.lang.NullPointerException<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.bitcoin.p2p.BitcoinDualConnection.shutdown(BitcoinDualConnection.java:133)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.source.merged.JsonRpcMergeMiningLocalWorkMakerDaemonHandler.shutdown(JsonRpcMergeMiningLocalWorkMakerDaemonHandler.java:146)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.source.WorkSource.shutdown(WorkSource.java:190)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.WorkProxy.shutdown(WorkProxy.java:923)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.PoolServer.shutdown(PoolServer.java:620)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.PoolServer$1.run(PoolServer.java:252)<br />[14:48:08.964] This error may indicate your bitcoin daemon was not contactable. Check it is running and you have entered the correct host:port for the bitcoin protocol interface NOT the json-rpc interface.<br />java.lang.NullPointerException<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.bitcoin.p2p.BitcoinDualConnection.shutdown(BitcoinDualConnection.java:141)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.source.merged.JsonRpcMergeMiningLocalWorkMakerDaemonHandler.shutdown(JsonRpcMergeMiningLocalWorkMakerDaemonHandler.java:146)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.source.WorkSource.shutdown(WorkSource.java:190)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.WorkProxy.shutdown(WorkProxy.java:923)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.PoolServer.shutdown(PoolServer.java:620)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.PoolServer$1.run(PoolServer.java:252)<br />[14:48:08.965] Dumping workmap to file: /opt/poolserverj-0.4.0rc2/tmp/workmap-8999.bin<br />73112 [Thread-0] INFO org.eclipse.jetty.util.log - Graceful shutdown o.e.j.s.ServletContextHandler{/,null}<br />[14:48:09.032] Shutting down Web Server...<br />[14:48:09.133] Closed 0 longpoll connections in 0ms<br />78165 [Thread-0] INFO org.eclipse.jetty.util.log - stopped o.e.j.s.ServletContextHandler{/,null}<br />78278 [shutdown] INFO org.eclipse.jetty.util.log - stopped o.e.j.s.ServletContextHandler{/,null}<br />[14:48:14.188] Shutdown complete...<br />root@j064:/opt/poolserverj-0.4.0rc2/bin#<br /></div><br />If its caused by a wrong bitcoind build, which one is the correct one? [source please]</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Flowz</b> on <b>October 31, 2012, 05:15:40 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg1307096#msg1307096">Quote from: sippsnapp on October 30, 2012, 02:52:07 PM</a></div><div class="quote">Anybody here who can tell me what am i doing wrong?<br /><br /><div class="codeheader">Code:</div><div class="code">root@j064:/opt/poolserverj-0.4.0rc2/bin# java -classpath poolserverj.jar:../lib/*:../lib/lib_non-maven/*:../lib/plugins com.shadworld.poolserver.servicelauncher.PoolServerService start ../conf/poolserverj.conf<br />Args - [2]: start ../conf/poolserverj.conf<br />PoolServerJ Service Starting Tue Oct 30 14:46:55 UTC 2012<br />[14:46:56.054] Starting PoolServerJ v0.4.0-WM-b233-c-d5e730c5756c<br />[14:46:56.055] user.dir: /opt/poolserverj-0.4.0rc2/bin<br />[14:46:56.055] Home path set to: /opt/poolserverj-0.4.0rc2/bin/poolserverj.jar<br />[14:46:56.055] Home directory set from jar file location to: /opt/poolserverj-0.4.0rc2<br />[14:46:56.059] Sever is set to testnet: false<br />[14:46:56.066] Adding donation target: chainName: namecoin donationAmount: 0.3 calc method: [% of total] addressUrl: http://poolserverj.org/meta/donations/ address: NFja75nNRHZYKtN9YQ6wHPQdmhzBEAmTAt<br />[14:46:56.067] Adding donation target: chainName: bitcoin donationAmount: 0.3 calc method: [% of total] addressUrl: http://poolserverj.org/meta/donations/ address: 1LezqRatQz7MeNoCVziYwcdwtqeEbvrdAq<br />[14:46:56.071] Wrote PID: 22107 to pidFile: /opt/poolserverj-0.4.0rc2/tmp/poolserverj.pid<br />[14:46:56.101] Connecting to DB URL: jdbc:mysql://127.0.0.1:3306/poolserverj_native?allowMultiQueries=true&amp;zeroDateTimeBehavior=round&amp;dumpQueriesOnException=true&amp;dumpMetadataOnColumnNotFound=true&amp;useCompression=true&amp;autoReconnect=true&amp;rewriteBatchedStatements=true<br />[14:46:56.288] Mapped parameter 1 to field 1 (remote_host)<br />[14:46:56.288] Mapped parameter 2 to field 2 (username)<br />[14:46:56.289] Mapped parameter 3 to field 3 (our_result)<br />[14:46:56.289] Mapped parameter 4 to field 4 (upstream_result)<br />[14:46:56.289] Mapped parameter 5 to field 5 (reason)<br />[14:46:56.289] Mapped parameter 6 to field 7 (time)<br />[14:46:56.289] Mapped parameter 7 to field 8 (source)<br />[14:46:56.289] Mapped parameter 8 to field 9 (block_num)<br />[14:46:56.289] Mapped parameter 9 to field 11 (useragent)<br />[14:46:56.290] Building Shares-DB-flush-engine: DefaultPreparedStatementSharesDBFlushEngine.class with extraParams: &#91;]<br />[14:46:56.291] Building Worker-authentication-engine: WorkerAuthenticator.class with extraParams: null<br />[14:46:56.302] Configuring aux daemon for WorkSource: bitcoind-mm<br />[14:46:56.302] Chain name: namecoin<br />[14:46:56.302] Chain id: 1<br />[14:46:56.302] Chain url: http://127.0.0.1:7334/<br />[14:46:56.303] Chain username: noobtub3ndsafu<br />[14:46:56.303] Chain payoutAddress: N15ThaRx21TjWsDdex4TuUPywMSts4iXM3<br />[14:46:56.303] Chain password: 9*****************************1<br />530 [main] INFO org.eclipse.jetty.util.log - jetty-7.4.0.v20110414<br />547 [main] INFO org.eclipse.jetty.util.log - started o.e.j.s.ServletContextHandler{/,null}<br />585 [main] INFO org.eclipse.jetty.util.log - Started SelectChannelConnector@0.0.0.0:8999 STARTING<br />586 [main] INFO org.eclipse.jetty.util.log - jetty-7.4.0.v20110414<br />586 [main] INFO org.eclipse.jetty.util.log - started o.e.j.s.ServletContextHandler{/,null}<br />589 [main] INFO org.eclipse.jetty.util.log - Started SelectChannelConnector@127.0.0.1:8997 STARTING<br />[14:46:56.447] Starting local work source proxy: bitcoind-mm<br />[14:46:56.508] RETRY<br />[14:46:56.508] RETRY<br />[14:46:56.515] RETRY<br />[14:46:56.516] RETRY<br />[14:46:56.518] New Block detected [81555] from source: DaemonSource[bitcoind-mm].namecoin - 0 lagging sources.<br />[14:46:56.518] New Block detected [205718] from source: DaemonSource[bitcoind-mm].bitcoin - 0 lagging sources.<br />[14:46:56.518] Restoring workmap from file: /opt/poolserverj-0.4.0rc2/tmp/workmap-8999.bin<br />[14:46:56.806] Updating donation target address for chain: namecoin Address: NFja75nNRHZYKtN9YQ6wHPQdmhzBEAmTAt<br />[14:46:56.912] Updating donation target address for chain: bitcoin Address: 1Lk8f18EyPB3uAJvgTeHgzCVkKY9njQ5bA<br />[14:47:06.548] Exception in Cleaner Thread<br />java.lang.RuntimeException: Waited 5 seconds for client provider to be set but it hasn&#039;t. &nbsp;This would indicate a problem with your client configuration.<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.workmaker.WorkMaker.update(WorkMaker.java:184)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.source.merged.MergedMiningGroup.updateAuxes(MergedMiningGroup.java:249)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.Cleaner.run(Cleaner.java:54)<br />java.io.IOException: Socket is disconnected<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.google.bitcoin.core.BitcoinSerializer.seekPastMagicBytes(BitcoinSerializer.java:347)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.google.bitcoin.core.BitcoinSerializer.deserialize(BitcoinSerializer.java:216)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.google.bitcoin.core.NetworkConnection.readMessage(NetworkConnection.java:170)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.google.bitcoin.core.NetworkConnection.&lt;init&gt;(NetworkConnection.java:96)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.bitcoin.p2p.BitcoinDualConnection.startListener(BitcoinDualConnection.java:93)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.bitcoin.p2p.BitcoinDualConnection.start(BitcoinDualConnection.java:47)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.source.merged.JsonRpcMergeMiningLocalWorkMakerDaemonHandler.start(JsonRpcMergeMiningLocalWorkMakerDaemonHandler.java:159)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.source.WorkSource.start(WorkSource.java:154)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.WorkProxy.start(WorkProxy.java:914)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.PoolServer.start(PoolServer.java:262)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.servicelauncher.PoolServerService.start(PoolServerService.java:99)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.servicelauncher.PoolServerService.windowsService(PoolServerService.java:58)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.servicelauncher.PoolServerService.main(PoolServerService.java:28)<br />[14:47:57.033] This error may indicate your bitcoin daemon was not contactable. Check it is running and you have entered the correct host:port for the bitcoin protocol interface NOT the json-rpc interface.<br />java.lang.NullPointerException<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.bitcoin.p2p.BitcoinDualConnection.shutdown(BitcoinDualConnection.java:133)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.bitcoin.p2p.BitcoinDualConnection.startListener(BitcoinDualConnection.java:98)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.bitcoin.p2p.BitcoinDualConnection.start(BitcoinDualConnection.java:47)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.source.merged.JsonRpcMergeMiningLocalWorkMakerDaemonHandler.start(JsonRpcMergeMiningLocalWorkMakerDaemonHandler.java:159)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.source.WorkSource.start(WorkSource.java:154)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.WorkProxy.start(WorkProxy.java:914)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.PoolServer.start(PoolServer.java:262)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.servicelauncher.PoolServerService.start(PoolServerService.java:99)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.servicelauncher.PoolServerService.windowsService(PoolServerService.java:58)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.servicelauncher.PoolServerService.main(PoolServerService.java:28)<br />[14:47:57.034] This error may indicate your bitcoin daemon was not contactable. Check it is running and you have entered the correct host:port for the bitcoin protocol interface NOT the json-rpc interface.<br />java.lang.NullPointerException<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.bitcoin.p2p.BitcoinDualConnection.shutdown(BitcoinDualConnection.java:141)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.bitcoin.p2p.BitcoinDualConnection.startListener(BitcoinDualConnection.java:98)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.bitcoin.p2p.BitcoinDualConnection.start(BitcoinDualConnection.java:47)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.source.merged.JsonRpcMergeMiningLocalWorkMakerDaemonHandler.start(JsonRpcMergeMiningLocalWorkMakerDaemonHandler.java:159)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.source.WorkSource.start(WorkSource.java:154)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.WorkProxy.start(WorkProxy.java:914)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.PoolServer.start(PoolServer.java:262)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.servicelauncher.PoolServerService.start(PoolServerService.java:99)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.servicelauncher.PoolServerService.windowsService(PoolServerService.java:58)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.servicelauncher.PoolServerService.main(PoolServerService.java:28)<br />^C73102 [Thread-0] INFO org.eclipse.jetty.util.log - Graceful shutdown SelectChannelConnector@0.0.0.0:8999 STARTED<br />[14:48:08.960] Shutting down poolserver...<br />[14:48:08.960] Flushing cached shares...<br />[14:48:08.960] Flush shares cache complete...<br />[14:48:08.961] Waiting to complete upstream share submits...<br />[14:48:08.961] Finished upstream submits...<br />[14:48:08.961] Flushing final shares...<br />[14:48:08.962] 0 shares in 1,351,608,448 seconds. Current hashRate: 0 GH/s<br />[14:48:08.962] Submit Throttling on: false<br />[14:48:08.962] All share submits flushed...<br />[14:48:08.962] Waiting for threads to die...<br />[14:48:08.963] This error may indicate your bitcoin daemon was not contactable. Check it is running and you have entered the correct host:port for the bitcoin protocol interface NOT the json-rpc interface.<br />java.lang.NullPointerException<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.bitcoin.p2p.BitcoinDualConnection.shutdown(BitcoinDualConnection.java:133)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.source.merged.JsonRpcMergeMiningLocalWorkMakerDaemonHandler.shutdown(JsonRpcMergeMiningLocalWorkMakerDaemonHandler.java:146)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.source.WorkSource.shutdown(WorkSource.java:190)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.WorkProxy.shutdown(WorkProxy.java:923)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.PoolServer.shutdown(PoolServer.java:620)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.PoolServer$1.run(PoolServer.java:252)<br />[14:48:08.964] This error may indicate your bitcoin daemon was not contactable. Check it is running and you have entered the correct host:port for the bitcoin protocol interface NOT the json-rpc interface.<br />java.lang.NullPointerException<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.bitcoin.p2p.BitcoinDualConnection.shutdown(BitcoinDualConnection.java:141)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.source.merged.JsonRpcMergeMiningLocalWorkMakerDaemonHandler.shutdown(JsonRpcMergeMiningLocalWorkMakerDaemonHandler.java:146)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.source.WorkSource.shutdown(WorkSource.java:190)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.WorkProxy.shutdown(WorkProxy.java:923)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.PoolServer.shutdown(PoolServer.java:620)<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;at com.shadworld.poolserver.PoolServer$1.run(PoolServer.java:252)<br />[14:48:08.965] Dumping workmap to file: /opt/poolserverj-0.4.0rc2/tmp/workmap-8999.bin<br />73112 [Thread-0] INFO org.eclipse.jetty.util.log - Graceful shutdown o.e.j.s.ServletContextHandler{/,null}<br />[14:48:09.032] Shutting down Web Server...<br />[14:48:09.133] Closed 0 longpoll connections in 0ms<br />78165 [Thread-0] INFO org.eclipse.jetty.util.log - stopped o.e.j.s.ServletContextHandler{/,null}<br />78278 [shutdown] INFO org.eclipse.jetty.util.log - stopped o.e.j.s.ServletContextHandler{/,null}<br />[14:48:14.188] Shutdown complete...<br />root@j064:/opt/poolserverj-0.4.0rc2/bin#<br /></div><br />If its caused by a wrong bitcoind build, which one is the correct one? [source please]<br /></div><br />Are you only trying to mine namecoin&#039;s?<br /><br />1. Make sure the information you set in the config file is correct, as to what you use to run your bitcoind!<br />-&gt; A pretty common problem.<br /><br />From what I&#039;m reading, you&#039;re only trying to mine namecoins:<br /><div class="codeheader">Code:</div><div class="code">[14:46:56.302] Chain name: namecoin<br />[14:46:56.302] Chain id: 1<br />[14:46:56.302] Chain url: http://127.0.0.1:7334/<br />[14:46:56.303] Chain username: noobtub3ndsafu<br />[14:46:56.303] Chain payoutAddress: N15ThaRx21TjWsDdex4TuUPywMSts4iXM3<br />[14:46:56.303] Chain password: 9*****************************1<br /></div><br />In most cases chain id 1 is the bitcoin chain, and chain id 2 is namecoin.<br />(You&#039;ve edited the config to not mine bitcoins I suppose by just changing the bitcoin information to bitcoin information?)<br />As far as I know you must run both bitcoind and namecoind for merged mining to work.<br /><br /><br />The namecoind is working properly, I suggest you to check if you bitcoind is running properly with the correct settings/config!</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>sippsnapp</b> on <b>October 31, 2012, 06:46:04 PM</b>
					<hr />
					<div style="margin: 0 5ex;">I now have disabled namecoin/merged mining, i only care for bitcoin now.<br /><br />I still need a correct release for bitcoin to run poolservj.<br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>Flowz</b> on <b>October 31, 2012, 08:57:34 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg1309444#msg1309444">Quote from: sippsnapp on October 31, 2012, 06:46:04 PM</a></div><div class="quote">I now have disabled namecoin/merged mining, i only care for bitcoin now.<br /><br />I still need a correct release for bitcoin to run poolservj.<br /><br /></div><br />It doesn&#039;t matter which release to be honest.<br /><br />On the PSJ-site under the &#039;fine tuning&#039; tab you&#039;ll find the patch by JoelKatz for a certain bitcoin release which allow more connections to the daemon.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>nyusternie</b> on <b>December 13, 2012, 01:10:28 AM</b>
					<hr />
					<div style="margin: 0 5ex;">Greetings,<br /><br />I would like to reach out to anyone that is still using PoolServerJ as an &quot;active/production&quot; pool server. I have about a month off during the holidays and I see it being spent in the Bitcoin community.<br /><br />The last post on the official website &quot;PoolServerJ 0.4rc1 WorkMaker Edition&quot; was made on Nov 8 11&#039;. I did see an update to the codebase on https://bitbucket.org/shadders/bitcoin-poolserverj/ on Oct 20 12&#039;, so I don&#039;t know where things stand right now. Does anyone know if this project is still active? <br /><br />I&#039;ve cloned the repo onto my GitHub account (just not a fan of Mercurial) to research the codebase, but it seems extremely outdated now (with Stratum and GetBlockTemplate being the norms now), so I&#039;m trying to decide how to proceed with my own endeavors towards a Java-based mining server.<br /><br />Any suggestions would be appreciated.<br /><br />Thanks,<br />Shomari</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>RoboCoder</b> on <b>January 03, 2013, 02:07:57 AM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg1396348#msg1396348">Quote from: nyusternie on December 13, 2012, 01:10:28 AM</a></div><div class="quote">Greetings,<br /><br />I would like to reach out to anyone that is still using PoolServerJ as an &quot;active/production&quot; pool server. I have about a month off during the holidays and I see it being spent in the Bitcoin community.<br /><br />The last post on the official website &quot;PoolServerJ 0.4rc1 WorkMaker Edition&quot; was made on Nov 8 11&#039;. I did see an update to the codebase on https://bitbucket.org/shadders/bitcoin-poolserverj/ on Oct 20 12&#039;, so I don&#039;t know where things stand right now. Does anyone know if this project is still active? <br /><br />I&#039;ve cloned the repo onto my GitHub account (just not a fan of Mercurial) to research the codebase, but it seems extremely outdated now (with Stratum and GetBlockTemplate being the norms now), so I&#039;m trying to decide how to proceed with my own endeavors towards a Java-based mining server.<br /><br />Any suggestions would be appreciated.<br /><br />Thanks,<br />Shomari<br /></div><br />I just started using it myself.. I am using it for solomining though and have not put a front end on it at this point.&nbsp; Just thought this would be more efficient than mining directly against the bitcoind.&nbsp; I am using the .7 version.&nbsp; As I understand it - i don&#039;t need the patched version if i am using this newer version - would love some other opinion on that though.&nbsp; I see a huge fluctuation in the hashrate reported by PSJ every 20-30 seconds or so and I use bfgminer as my clients and it appears that they are getting a lower hashrate by shares accepted than i would normally against a regular pool.&nbsp; Wondering if that is due to Longpolling vs. stratum.<br /><br />I am using the .4rc7 workmaker version.<br /><br />PSJ gives decent stats on getworks and inound work - but i wish it would give more stats on the shares being tested back to the daemon.&nbsp; I would actually lilke to see more stats in general by miner made available directly from the management interface.&nbsp; Would certainly be willing to help test any work you do - and would definitely be willing to contribute funds toward development of stratum support and maybe a management client with stats reporting and more detail/monitoring by worker.<br /><br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>RoboCoder</b> on <b>January 03, 2013, 02:17:54 AM</b>
					<hr />
					<div style="margin: 0 5ex;">Also would like to note that by switching to the 32bit java and incrreasing the jvm memory size the hashrate reported by PSJ did improve..</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>nyusternie</b> on <b>January 04, 2013, 10:28:52 PM</b>
					<hr />
					<div style="margin: 0 5ex;">@RoboCoder - I have only spent a short time testing PSJ. Mainly to make sure it worked correctly so that I could study the codebase. My immediate goal is to gain a complete understanding of the inner working of Bitcoin (protocols, community, problems, etc). As I&#039;m much stronger in Java than C, PSJ seemed to be the best starting point. BitcoinJ (https://code.google.com/p/bitcoinj/) has also a great codebase to learn from.<br /><br />As the original author is unreachable, I&#039;ve opted to start from scratch (learning along the way) in building a fresh JAVA pool server.&nbsp; I&#039;ve also been studying Eloipool&#039;s codebase (https://gitorious.org/bitcoin/eloipool), which is Python3, and it seems to be pretty solid. I&#039;ve got a very VERY basic implementation up and running in Java, but its not quite ready for public testing yet.<br /><br /><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg1431656#msg1431656">Quote from: RoboCoder on January 03, 2013, 02:07:57 AM</a></div><div class="quote">PSJ gives decent stats on getworks and inound work - but i wish it would give more stats on the shares being tested back to the daemon.&nbsp; I would actually lilke to see more stats in general by miner made available directly from the management interface.&nbsp; Would certainly be willing to help test any work you do - and would definitely be willing to contribute funds toward development of stratum support and maybe a management client with stats reporting and more detail/monitoring by worker.<br /></div>I totally agree, and plan on integrating a Reporting Engine with API support, run by a lightweight web server (lighttpd or similar).<br /><br />Can I ask you WHY you choose PSJ? Is it stricly because of Java or is there another reason? I&#039;ll be sure to let you know when I have something that is worth-while testing.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>RoboCoder</b> on <b>January 05, 2013, 03:28:44 AM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg1435007#msg1435007">Quote from: nyusternie on January 04, 2013, 10:28:52 PM</a></div><div class="quote">@RoboCoder - I have only spent a short time testing PSJ. Mainly to make sure it worked correctly so that I could study the codebase. My immediate goal is to gain a complete understanding of the inner working of Bitcoin (protocols, community, problems, etc). As I&#039;m much stronger in Java than C, PSJ seemed to be the best starting point. BitcoinJ (https://code.google.com/p/bitcoinj/) has also a great codebase to learn from.<br /><br />As the original author is unreachable, I&#039;ve opted to start from scratch (learning along the way) in building a fresh JAVA pool server.&nbsp; I&#039;ve also been studying Eloipool&#039;s codebase (https://gitorious.org/bitcoin/eloipool), which is Python3, and it seems to be pretty solid. I&#039;ve got a very VERY basic implementation up and running in Java, but its not quite ready for public testing yet.<br /><br /><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg1431656#msg1431656">Quote from: RoboCoder on January 03, 2013, 02:07:57 AM</a></div><div class="quote">PSJ gives decent stats on getworks and inound work - but i wish it would give more stats on the shares being tested back to the daemon.&nbsp; I would actually lilke to see more stats in general by miner made available directly from the management interface.&nbsp; Would certainly be willing to help test any work you do - and would definitely be willing to contribute funds toward development of stratum support and maybe a management client with stats reporting and more detail/monitoring by worker.<br /></div>I totally agree, and plan on integrating a Reporting Engine with API support, run by a lightweight web server (lighttpd or similar).<br /><br />Can I ask you WHY you choose PSJ? Is it stricly because of Java or is there another reason? I&#039;ll be sure to let you know when I have something that is worth-while testing.<br /></div><br />Howdy!<br /><br />I choose PSJ primarily because i run windows servers and am not very experienced with the vagaries of Linux - and i can run PSJ (java) on windows pretty easily.&nbsp; I am come from a different development background for code/web - i am a ms developer so vb and c are my prefered languages and for web scripting (are you ready for this) i am old school cold fusion - been developing in that since version 2 - actually met Jeremy Allaire years ago when he ran the company and i was on a development contract for y2k.gov (done in CF) and Allaire wanted to do a case study on it!&nbsp; &nbsp;I am WAY out of the normal developer profile for the bitcoin world!<br /><br />Also C &lt;-&gt; Java is pretty easy cross training.&nbsp; Also do not have a lot of time to develop large apps so wanted something where the work was already done.&nbsp; And mining directly against the bitcoind is somewhat unsatisfying as i use bfgminer and the only thing you see is a change in the best share difficultly solved.<br /><br />I actually had it running with the bitcoin-qt .63 and my miners got shares via longpoll but the hash rate reported by BFG on submitted shares is about 5% lower than when i mine against slush&#039;s pool with stratum.<br /><br />It seems to be working on feeding work to the miners but not really confident that a solution will get back to the daemon and get me the block.<br /><br />I have not looked at either the bitcoin daemon code or the PSJ code (yet) but am beginning to think the best way to figure out what might be going on is to reverse engineer the code.&nbsp; But it is soooo time consuming.&nbsp; Also because my goal was an internal mining &quot;controller&quot; for my own rigs, i think that i should approach it by just developing a scaled down app for my uses.&nbsp; Decisions, decisions..<br /><br />RoboCoder</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>13MSzfPPr4gXvusKJFAFR2EAN</b> on <b>April 10, 2014, 12:55:45 PM</b>
					<hr />
					<div style="margin: 0 5ex;">Can someone help me with poolserverj sources ?<br />In the sources which I have are some java files not included but needed.<br /><br />I am looking for the class or source of com.shadworld.cache.ArrayDequeResourcePool.<br /><br />Please send it to diamantminer@gmx.de<br /><br />Please help.<br /><br />Wily</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>sielaeparchen</b> on <b>May 01, 2014, 05:26:58 PM</b>
					<hr />
					<div style="margin: 0 5ex;">I am just examining the poolserverj sources. The first thing which I did was create 2 public repositories of those shadworld.com libraries not included in maven:<br />Here are the source repositories:<br />https://github.com/archenroot/shadtools-util<br />https://github.com/archenroot/shadtools-sql<br /><br />@Wily<br />The class ArrayDequeResourcePool.java you are looking for is inside shadtools-util project, you can package and should work, search the repo, it is there<br /></div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>sielaeparchen</b> on <b>May 02, 2014, 06:13:44 AM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg727858#msg727858">Quote from: 50BTC.com on February 02, 2012, 05:23:10 PM</a></div><div class="quote">We are evaluating PoolServerJ for our mining pool, 50btc.com, as replacement for pushpoold. There are few problems we have encountered during testing; can anyone help with them?<br /><br />We are running Scientific Linux 6.1, java version java-1.6.0-openjdk-1.6.0.0-1.40.1.9.10, poolserverj 0.4.0rc7 (rc2 + rc7 patch), stock bitcoind 0.5.2.<br /><br />First problem is that currently PoolServerJ doesn&#039;t support postgresql properly. For example, with settings<br /><div class="codeheader">Code:</div><div class="code">db.engine=postgresql<br />db.host=dbserver<br />db.name=pool<br />db.schema=public<br />db.port=5432<br />db.user=pooluser<br />db.password=pass<br /></div>It incorrectly forms connectiong string, it prints<br />[20:54:18.678] Connecting to DB URL: jdbc:postgresql:pool//dbserver:5432/public?autoReconnect=true<br />and then always connects to localhost, not &quot;dbserver&quot;<br /><br />If I understand correctly, specifying connection string in jdbc:postgresql:&lt;database&gt; form can be used only for localhost connections, according to documentation http://jdbc.postgresql.org/documentation/80/connect.html (http://jdbc.postgresql.org/documentation/80/connect.html). So jdbc happily ignores dbserver and port, which makes poolserverj connect only to localhost.<br /><br />We wouldn&#039;t mind to fix that issue, but there are no sources for this part of server (shadtools-sql), even in source repository there is only binary .jar. Therefore, we really can&#039;t do anything. Currently, for testing we have installed redirecting proxy for postgresql which forwards requests from localhost to real database server, but for production it would be nice to fix that issue properly. This problem is present both in 0.4.0 and git version.<br /><br />Second problem is that we want users to authorize with any password, as long as they are registered on pool. There is auth engine called AnyPasswordWorkerAuthenticator which supposed to do the trick, but it doesn&#039;t do as advertised. Namely, it does allow to log in with any password, but not without password - when logging in with username only (we tried guiminer+poclbm and minerd) it still returns &quot;401 Unauthorized&quot;. Of course, it&#039;s set up as it&#039;s supposed to<br /><br /><div class="codeheader">Code:</div><div class="code">authenticatorEngine=com.shadworld.poolserver.servlet.auth.AnyPasswordWorkerAuthenticator<br />authenticatorEngine.extraParams=true, false</div><br />and I have looked at its simple code a few times but still can&#039;t figure out why it won&#039;t allow empty password. Could it be that there is a bug in other code which rejects empty password before it&#039;s processed by AnyPasswordWorkerAuthenticator?<br /><br /></div>sources<br />https://github.com/archenroot/shadtools-util<br />https://github.com/archenroot/shadtools-sql</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: PoolServerJ - Tech Support</b><br />
					Post by: <b>sielaeparchen</b> on <b>May 02, 2014, 12:16:16 PM</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg1435007#msg1435007">Quote from: nyusternie on January 04, 2013, 10:28:52 PM</a></div><div class="quote">@RoboCoder - I have only spent a short time testing PSJ. Mainly to make sure it worked correctly so that I could study the codebase. My immediate goal is to gain a complete understanding of the inner working of Bitcoin (protocols, community, problems, etc). As I&#039;m much stronger in Java than C, PSJ seemed to be the best starting point. BitcoinJ (https://code.google.com/p/bitcoinj/) has also a great codebase to learn from.<br /><br />As the original author is unreachable, I&#039;ve opted to start from scratch (learning along the way) in building a fresh JAVA pool server.&nbsp; I&#039;ve also been studying Eloipool&#039;s codebase (https://gitorious.org/bitcoin/eloipool), which is Python3, and it seems to be pretty solid. I&#039;ve got a very VERY basic implementation up and running in Java, but its not quite ready for public testing yet.<br /><br /><div class="quoteheader"><a href="https://bitcointalk.org/index.php?topic=33144.msg1431656#msg1431656">Quote from: RoboCoder on January 03, 2013, 02:07:57 AM</a></div><div class="quote">PSJ gives decent stats on getworks and inound work - but i wish it would give more stats on the shares being tested back to the daemon.&nbsp; I would actually lilke to see more stats in general by miner made available directly from the management interface.&nbsp; Would certainly be willing to help test any work you do - and would definitely be willing to contribute funds toward development of stratum support and maybe a management client with stats reporting and more detail/monitoring by worker.<br /></div>I totally agree, and plan on integrating a Reporting Engine with API support, run by a lightweight web server (lighttpd or similar).<br /><br />Can I ask you WHY you choose PSJ? Is it stricly because of Java or is there another reason? I&#039;ll be sure to let you know when I have something that is worth-while testing.<br /></div><br />do you have some codebase repo? I am examining now java pool, so if you implemented something interesting, let&#039;s share.</div>
					<br /><br />
					<div align="center" class="smalltext">
		<span class="smalltext" style="display: inline; visibility: visible; font-family: Verdana, Arial, sans-serif;"><a href="http://www.simplemachines.org/" title="Simple Machines Forum" target="_blank">Powered by SMF 1.1.19</a> | 
<a href="http://www.simplemachines.org/about/copyright.php" title="Free Forum Software" target="_blank">SMF &copy; 2006-2009, Simple Machines</a>
		</span></div>
				</td>
			</tr>
		</table>
	</body>
</html>